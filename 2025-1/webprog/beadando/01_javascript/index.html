<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEKI</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- menu oldal-->
    <div id="menu-screen" class="screen active">
        <div class="menu-container">
            <h1>HEKI Vonatai xD</h1>
            <div class="menu-form">
                <label for="player-name">J√°t√©kos neve:</label>
                <input type="text" id="player-name" placeholder="Add meg a neved">
                
                <button id="start-button" class="btn btn-primary">Start</button>
                <button id="results-button" class="btn btn-secondary">Eredm√©nyek</button>
                <button id="rules-button" class="btn btn-info">J√°t√©kszab√°ly</button>
            </div>
        </div>
    </div>

    <!-- jatek oldal -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <div class="game-header">
                <div class="game-info">
                    <span id="player-name-display"></span>
                </div>
                <button id="back-to-menu" class="btn btn-small">Vissza a men√ºbe</button>
            </div>
            
            <div class="game-content">
                <div class="grid-container">
                    <div id="game-grid"></div>
                    <img id="duna-overlay" src="source/vonalak/duna_vonala.svg" alt="Duna">
                    <svg id="lines-svg"></svg>
                </div>
                
                <div class="game-sidebar">
                    <!-- felso sor, kartya es ido -->
                    <div class="info-row">
                        <div class="info-box current-card-box">
                            <h3>Felh√∫zott k√°rtya</h3>
                            <div id="card-display" class="card-large">
                                <span id="card-type">?</span>
                            </div>
                            <button id="draw-card-btn" class="btn btn-primary">K√°rtya h√∫z√°sa</button>
                            <button id="skip-build-btn" class="btn btn-secondary" disabled>Kihagy√°s</button>
                        </div>
                        
                        <div class="info-box timer-box">
                            <h3>Id≈ë</h3>
                            <div id="timer-display" class="timer-large">00:00</div>
                            <div class="line-info-compact">
                                <div id="line-color" class="line-indicator-small"></div>
                                <span id="line-name"></span>
                                <span id="round-number">1</span>/4
                            </div>
                        </div>
                    </div>
                    
                    <!-- also sor, pontozas -->
                    <div class="scoring-box">
                        <h3>Pontoz√°s</h3>
                        <div id="scoring-display"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- szabaly modal -->
    <div id="rules-modal" class="modal">
        <div class="modal-content">
            <span class="close">x</span>
            <h2>J√°t√©kszab√°ly</h2>
            <div class="rules-text">
                <h3>C√©l</h3>
                <p>√âp√≠tsd ki Budapest metr√≥vonalait a lehet≈ë legt√∂bb pont√©rt! A j√°t√©k 4 fordul√≥b√≥l √°ll, mindegyikben egy metr√≥vonalat √©p√≠tesz v√©letlenszer≈± sorrendben (M1, M2, M3, M4).</p>
                
                <h3>K√°rty√°k</h3>
                <p>11 meg√°ll√≥k√°rtya van: A, B, C, D √©s Joker t√≠pusok, mindegyikb≈ël k√ºls≈ë √©s k√∂z√©ps≈ë peronos v√°ltozat, plusz egy V√°lt√≥ k√°rtya (k√∂z√©ps≈ë peron).</p>
                
                <h3>J√°t√©kmenet</h3>
                <ul>
                    <li>H√∫zz egy k√°rty√°t - ez meghat√°rozza, milyen t√≠pus√∫ √°llom√°sba √©p√≠thetsz</li>
                    <li>√âp√≠ts szakaszt a vonal v√©gpontj√°b√≥l a megfelel≈ë √°llom√°sba</li>
                    <li>Vagy hagyd ki a k√∂r√©t √©s h√∫zz √∫j k√°rty√°t</li>
                    <li>A fordul√≥ v√©get √©r, ha az egyik peron t√≠pusb√≥l 5-√∂t h√∫zt√°l</li>
                </ul>
                
                <h3>√âp√≠t√©si szab√°lyok</h3>
                <ul>
                    <li>V√≠zszintes, f√ºgg≈ëleges vagy 45 fokos √°tl√≥s szakaszok</li>
                    <li>Csak a vonal v√©gpontjaib√≥l √©p√≠thetsz (kiv√©ve v√°lt√≥)</li>
                    <li>Nem mehet√ºnk √°t harmadik √°llom√°son</li>
                    <li>Nem keresztezhetj√ºk m√°sik vonalat ny√≠lt p√°ly√°n</li>
                    <li>Nem t√©rhet√ºnk vissza m√°r √©rintett √°llom√°sba (hurok tilalma)</li>
                    <li>A De√°k t√©r (?) Joker - minden t√≠pus mehet bele</li>
                    <li>Joker k√°rtya - b√°rmilyen √°llom√°sba megy</li>
                </ul>
                
                <h3>Speci√°lis k√°rty√°k</h3>
                <ul>
                    <li><strong>Joker (üÉè):</strong> B√°rmilyen t√≠pus√∫ √°llom√°sba √©p√≠thetsz</li>
                    <li><strong>V√°lt√≥     :</strong> Azonnal h√∫zol m√©g egy k√°rty√°t, √©s √©p√≠thetsz a vonal b√°rmely √°llom√°s√°b√≥l (nem csak a v√©gpontokb√≥l). A vonal ezut√°n 3 v√©gponttal rendelkezhet!</li>
                </ul>
                
                <h3>Pontoz√°s</h3>
                <p><strong>Fordul√≥ pontok (FP):</strong> (PK * PM) + PD</p>
                <ul>
                    <li>PK: H√°ny ker√ºletet √©rint a vonal</li>
                    <li>PM: Max. h√°ny meg√°ll√≥ van egy ker√ºletben</li>
                    <li>PD: H√°nyszor kel √°t a Dun√°n</li>
                </ul>
                
                <p><strong>P√°lyaudvar pontok (PP):</strong> Minden p√°lyaudvar √©rint√©sekor a cs√∫szka l√©p egyet: 0‚Üí1‚Üí2‚Üí4‚Üí6‚Üí8‚Üí11‚Üí14‚Üí17‚Üí21‚Üí25</p>
                
                <p><strong>Csom√≥pont pontok:</strong></p>
                <ul>
                    <li>2 vonal tal√°lkoz√°sa: 2 pont</li>
                    <li>3 vonal tal√°lkoz√°sa: 5 pont</li>
                    <li>4 vonal tal√°lkoz√°sa: 9 pont</li>
                </ul>
                
                <p><strong>V√©gs≈ë pont:</strong> Sum(FP) + PP + csom√≥pont pontok</p>
            </div>
        </div>
    </div>

    <!-- eredmenyek modal -->
    <div id="results-modal" class="modal">
        <div class="modal-content">
            <span class="close">x</span>
            <h2>Eredm√©nyek</h2>
            <div id="results-list"></div>
        </div>
    </div>

    <!-- jatek vege modal -->
    <div id="game-over-modal" class="modal">
        <div class="modal-content">
            <h2>J√°t√©k v√©ge!</h2>
            <div id="final-score-details"></div>
            <button id="back-to-menu-final" class="btn btn-primary">Vissza a men√ºbe</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
