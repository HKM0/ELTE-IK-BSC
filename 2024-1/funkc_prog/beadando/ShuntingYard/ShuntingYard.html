<!DOCTYPE html>
<html lang="hu" xml:lang="hu" data-darkreader-mode="dynamic" data-darkreader-scheme="dark"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style class="darkreader darkreader--fallback" media="screen"></style><style class="darkreader darkreader--text" media="screen"></style><style class="darkreader darkreader--invert" media="screen">.jfk-bubble.gtx-bubble, .captcheck_answer_label > input + img, span#closed_text > img[src^="https://www.gstatic.com/images/branding/googlelogo"], span[data-href^="https://www.hcaptcha.com/"] > #icon, img.Wirisformula, a[data-testid="headerMediumLogo"]>svg {
    filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;
}</style><style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
  background-image: var(--darkreader-inline-bgimage) !important;
}
[data-darkreader-inline-border] {
  border-color: var(--darkreader-inline-border) !important;
}
[data-darkreader-inline-border-bottom] {
  border-bottom-color: var(--darkreader-inline-border-bottom) !important;
}
[data-darkreader-inline-border-left] {
  border-left-color: var(--darkreader-inline-border-left) !important;
}
[data-darkreader-inline-border-right] {
  border-right-color: var(--darkreader-inline-border-right) !important;
}
[data-darkreader-inline-border-top] {
  border-top-color: var(--darkreader-inline-border-top) !important;
}
[data-darkreader-inline-boxshadow] {
  box-shadow: var(--darkreader-inline-boxshadow) !important;
}
[data-darkreader-inline-color] {
  color: var(--darkreader-inline-color) !important;
}
[data-darkreader-inline-fill] {
  fill: var(--darkreader-inline-fill) !important;
}
[data-darkreader-inline-stroke] {
  stroke: var(--darkreader-inline-stroke) !important;
}
[data-darkreader-inline-outline] {
  outline-color: var(--darkreader-inline-outline) !important;
}
[data-darkreader-inline-stopcolor] {
  stop-color: var(--darkreader-inline-stopcolor) !important;
}
[data-darkreader-inline-bg] {
  background: var(--darkreader-inline-bg) !important;
}
[data-darkreader-inline-invert] {
    filter: invert(100%) hue-rotate(180deg);
}</style><style class="darkreader darkreader--variables" media="screen">:root {
   --darkreader-neutral-background: var(--darkreader-background-ffffff, #181a1b);
   --darkreader-neutral-text: var(--darkreader-text-000000, #e8e6e3);
   --darkreader-selection-background: var(--darkreader-background-0060d4, #004daa);
   --darkreader-selection-text: var(--darkreader-text-ffffff, #e8e6e3);
}</style><style class="darkreader darkreader--root-vars" media="screen"></style><style class="darkreader darkreader--user-agent" media="screen">@layer {
html {
    background-color: var(--darkreader-background-ffffff, #181a1b) !important;
}
html {
    color-scheme: dark !important;
}
iframe {
    color-scheme: dark !important;
}
html, body {
    background-color: var(--darkreader-background-ffffff, #181a1b);
}
html, body {
    border-color: #736b5e;
    color: var(--darkreader-text-000000, #e8e6e3);
}
a {
    color: #3391ff;
}
table {
    border-color: #545b5e;
}
mark {
    color: var(--darkreader-text-000000, #e8e6e3);
}
::placeholder {
    color: #b2aba1;
}
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
    background-color: #404400 !important;
    color: var(--darkreader-text-000000, #e8e6e3) !important;
}
::selection {
    background-color: #004daa !important;
    color: #e8e6e3 !important;
}
::-moz-selection {
    background-color: #004daa !important;
    color: #e8e6e3 !important;
}
}</style><title></title> 
<meta charset="utf-8"> 
<meta content="TeX4ht (https://tug.org/tex4ht/)" name="generator"> 
<meta content="width=device-width,initial-scale=1" name="viewport"> 
<link href="ShuntingYard_elemei/ShuntingYard.css" rel="stylesheet" type="text/css"><style class="darkreader darkreader--sync" media="screen"></style> 
<meta content="ShuntingYard.tex" name="src"> 
<meta name="darkreader" content="62140a246bd181e4cfb08edb1dc685b2"><style class="darkreader darkreader--override" media="screen">.vimvixen-hint {
    background-color: #684b00 !important;
    border-color: #9e7e00 !important;
    color: #d7d4cf !important;
}
#vimvixen-console-frame {
    color-scheme: light !important;
}
::placeholder {
    opacity: 0.5 !important;
}
#edge-translate-panel-body,
.MuiTypography-body1,
.nfe-quote-text {
    color: var(--darkreader-neutral-text) !important;
}
gr-main-header {
    background-color: #1b4958 !important;
}
.tou-z65h9k,
.tou-mignzq,
.tou-1b6i2ox,
.tou-lnqlqk {
    background-color: var(--darkreader-neutral-background) !important;
}
.tou-75mvi {
    background-color: #0f3a47 !important;
}
.tou-ta9e87,
.tou-1w3fhi0,
.tou-1b8t2us,
.tou-py7lfi,
.tou-1lpmd9d,
.tou-1frrtv8,
.tou-17ezmgn {
    background-color: #1e2021 !important;
}
.tou-uknfeu {
    background-color: #432c09 !important;
}
.tou-6i3zyv {
    background-color: #245d70 !important;
}
div.mermaid-viewer-control-panel .btn {
    background-color: var(--darkreader-neutral-background);
    fill: var(--darkreader-neutral-text);
}
svg g rect.er {
    fill: var(--darkreader-neutral-background) !important;
}
svg g rect.er.entityBox {
    fill: var(--darkreader-neutral-background) !important;
}
svg g rect.er.attributeBoxOdd {
    fill: var(--darkreader-neutral-background) !important;
}
svg g rect.er.attributeBoxEven {
    fill: var(--darkreader-selection-background);
    fill-opacity: 0.8 !important;
}
svg rect.er.relationshipLabelBox {
    fill: var(--darkreader-neutral-background) !important;
}
svg g g.nodes rect,
svg g g.nodes polygon {
    fill: var(--darkreader-neutral-background) !important;
}
svg g rect.task {
    fill: var(--darkreader-selection-background) !important;
}
svg line.messageLine0,
svg line.messageLine1 {
    stroke: var(--darkreader-neutral-text) !important;
}
div.mermaid .actor {
    fill: var(--darkreader-neutral-background) !important;
}
mitid-authenticators-code-app > .code-app-container {
    background-color: white !important;
    padding-top: 1rem;
}
iframe#unpaywall[src$="unpaywall.html"] {
    color-scheme: light !important;
}
select option {
    background-color: var(--darkreader-neutral-background) !important;
}
embed[type="application/pdf"] { filter: invert(100%) contrast(90%); }</style><script src="ShuntingYard_elemei/prompt.js"></script></head><body>
   <h3 class="likesectionHead" id="fontos-informaciok-a-nagybeadandorol"><a id="x1-1000"></a>Fontos információk a nagybeadandóról</h3>
     <ul class="itemize1">
     <li class="itemize">A nagybeadandó két részből áll: alap és extra feladatokból. Az alapfeladatok megoldása és időre
     való feltöltése szükséges feltétele a vizsgának. Az extra feladatokból pontok szerezhetők, amelyek
     hozzáadódnak a vizsgán szerzett pontokhoz.
     </li>
     <li class="itemize"><span class="cmbx-10">A határidő kitolásra nincs lehetőség!</span>
     </li>
     <li class="itemize">Megoldást a határidőn belül többször is fel lehet tölteni.
     </li>
     <li class="itemize">A tárgyból <span class="cmbx-10">nem vizsgázhat </span>az, aki a határidő végéig nem ad be helyes megoldást, így a teljes
     tárgyat ismételnie szükséges!
     </li>
     <li class="itemize">Az extra feladatokkal összesen 8 pont szerezhető, amelyből <span class="cmbx-10">maximum 5</span>-öt lehet beszámítani
     a  vizsgába,  amennyiben  a  vizsgán  elért  eredmény  eléri  a  vizsgára  megszabott  minimum
     ponthatárokat.
     </li>
     <li class="itemize">A feladatot <span class="cmbx-10">önállóan </span>szükséges megoldani. A megoldások évfolyamszintű plágiumellenőrzésnek
     lesznek alávetve. Amennyiben felmerül a másolás gyanúja, úgy minden érintettnek (függetlenül
     attól, hogy kiről másolt kicsoda) el lesz utasítva a megoldása, nem jelentkezhet vizsgára és a
     tárgyból nem szerezhet jegyet, a tárgyat ismételnie szükséges!
     </li>
     <li class="itemize">Egyéb forrásból származó információk felhasználása (StackOverflow, Gyakorikérdések, Reddit,
     ChatGPT, Github Copilot, korábban végzett hallgató stb.) is plágiumnak számít, ezért ezek
     használata is jegymegtagadást von maga után.
     </li>
     <li class="itemize">A beadandót tudni kell megvédeni a kódban található kommentek nélkül is!
     </li>
     <li class="itemize">A beadott megoldást a gyakorlatvezetővel egyeztetve személyesen is be kell mutatni. A bemutatás
     során a gyakorlatvezetőn kívül más oktató is jelen lehet. A feltöltött megoldás bemutatása
     során kérdéseket kell megválaszolni a megoldással és a használt módszerekkel kapcsolatban.
     <span class="cmbx-10">Kérünk mindenkit, hogy a beadandó bemutatására felkészülten érkezzen, hogy a
     védés sikeres legyen! </span>A beadandó nem fogadható el saját munkaként, ha az abból feltett
     kérdéseket nem sikerül meggyőzően megválaszolni.
     </li>
     <li class="itemize">A beadandót legkésőbb <span class="cmbx-10">2024. december 20-áig </span>(aznap bezárólag) szükséges megvédeni.
     </li>
     <li class="itemize">A vizsgára való jelentkezés feltétele a sikeres védés. Először meg kell védeni a beadandót, azt
     követően lehetséges a vizsgára való jelentkezés.
     </li>
     <li class="itemize">A feladatokat a leírásnak és a megadott típusnak megfelelően kell megoldani. Minden feladatnál
     adottak  tesztesetek,  amelyek  a  függvény  működésének  tesztelését  és  megértését  hivatottak
     segíteni.
     </li>
     <li class="itemize">Tekintve, hogy a tesztesetek - bár odafigyelés mellett íródnak - nem fedik le minden esetben a
     függvények teljes működését, ezért határozottan javasolt még külön próbálgatni a megoldásokat
     beadás előtt!
     </li>
     <li class="itemize">A <span class="cmbx-10">végső teszteléshez </span>használt <span class="cmbx-10">tesztek halmaza bővebb </span>lehet a megadott teszthalmaznál.
     </li>
     <li class="itemize">A feladatsorhoz letölthető egy üres (<span class="cmtt-10">BeadSkeleton.hs</span>) fájl, amelyben el lehet kezdeni dolgozni,
     néhány alapdolog meg van adva benne.</li></ul>
<!-- l. 40 --><p class="noindent">
</p>
   <h3 class="likesectionHead" id="_"><a id="x1-2000"></a>Infix kifejezések parse-olása Shunting Yard algoritmussal (Kötelező feladatok)</h3>
<!-- l. 41 --><p class="noindent">Mind a matematikában, mind a programozási nyelvek során találkozhatunk aritmetikai kifejezésekkel,
amelyek infix módon alkalmazott operátorokat tartalmaznak. Az ilyen infix kifejezéseknek viszont a
kiértékelése nem feltétlenül egyértelmű. Habár az alap aritmetikai műveleteknél ismerjük az operátorok
sorrendjét, mert azt mindenkinek meg kellett általános iskolában tanulnia, de ismeretlen operátorok esetén ez
nem feltétlenül egyértelmű: </p><figure class="figure"> 

                                                                                    
                                                                                    
                                                                                    
                                                                                    
<table class="equation-star"><tbody><tr><td>
<div class="math-display">
<p class="math-display">a ⊕ b ⊘ c ∧ (d ⊎ e) ∨ f</p></div>
</td></tr></tbody></table>
<!-- l. 45 --><p class="nopar">
</p>
<figcaption class="caption"><span class="id"></span><span class="content"><span class="cmr-8">(1) Hogyan kellene ezt az ismeretlen operátorokat tartalmazó kifejezést zárójelezni?</span>
</span></figcaption><!-- tex4ht:label?: x1-2000  -->
                                                                                    
                                                                                    
   </figure>
<!-- l. 48 --><p class="indent">   Az ilyen problémák megoldásáért szokás a programozási nyelvek megvalósítása során az operátorokat egy
<span class="cmbx-10">fixitási annotációval </span>ellátni, amely eltárolja, hogy milyen sorrendben (<span class="cmbx-10">precedencia</span>) és milyen irányba
(<span class="cmbx-10">kötési irány</span>) kell egy olyan adott kifejezést zárójelezni. Rengeteg algoritmus létezik, ami ezen információk
ismeretében ki tud értékelni kifejezéseket. Ebben a feladatban egy ilyen módszert, a Shunting Yard
algoritmust fogjuk megvalósítani.
</p>
   <h4 class="likesubsectionHead" id="megvalositasi-terv"><a id="x1-3000"></a>Megvalósítási terv</h4>
<!-- l. 50 --><p class="noindent">A <span class="cmtt-10">String </span>alapú kifejezések kiértékelését két lépésben fogjuk implementálni. Először a <span class="cmtt-10">String</span>-eket
átalakítjuk egy strukturáltabb formára, amit <span class="cmbx-10">tokeneknek </span>hívnak (és ezt a folyamatot <span class="cmbx-10">tokenizálásnak</span>
nevezik). A tokenek csak az algoritmushoz szükséges értékeket fogják tartalmazni: literálokat,
operátorokat és zárójeleket. Az operátorokhoz szükséges információt egy előre definiált táblázatból
fogjuk kinyerni. Ezután erre a strukturált tokensorozatra fogjuk alkalmazni a Shunting Yard
algoritmust.
</p><!-- l. 52 --><p class="indent">   Definiáljuk a <span class="cmtt-10">Dir </span>adattípust, amely a kötési irányt reprezentálja. Két nulla paraméteres konstruktora
legyen:
</p>
     <ul class="itemize1">
     <li class="itemize"><span class="cmtt-10">InfixL :: Dir</span>, amely a balra kötést reprezentálja.
     </li>
     <li class="itemize"><span class="cmtt-10">InfixR :: Dir</span>, amely a jobbra kötést reprezentálja.</li></ul>
<!-- l. 59 --><p class="indent">   Kérjük meg a fordítót, hogy automatikusan példányosítsa a <span class="cmtt-10">Show</span>, <span class="cmtt-10">Eq </span>és <span class="cmtt-10">Ord </span>típusosztályokat a
típusra.
</p><!-- l. 61 --><p class="indent">   Definiáljuk a <span class="cmtt-10">Tok </span>adattípust, amely a tokenek lehetséges értékeit reprezentálja. A típusnak egy
típusparamétere legyen, amely azt reprezentálja, hogy milyen típus fölött végezzük majd el a műveleteket. A
típusnak négy konstruktora legyen:
</p>
     <ul class="itemize1">
     <li class="itemize"><span class="cmtt-10">BrckOpen :: Tok a</span>, amely a nyitó zárójelet reprezentálja.
     </li>
     <li class="itemize"><span class="cmtt-10">BrckClose :: Tok a</span>, amely a záró zárójelet reprezentálja.
     </li>
     <li class="itemize"><span class="cmtt-10">TokLit :: a -&gt; Tok a</span>, amely egy literált (az esetek nagyrészében számot) reprezentál.
     </li>
     <li class="itemize">
     <!-- l. 67 --><p class="noindent"><span class="cmtt-10">TokBinOp :: (a -&gt; a -&gt; a) -&gt; Char -&gt; Int -&gt; Dir -&gt; Tok a</span>; a paraméterek az alábbiakat
     reprezentálják: </p>
                                                                                    
                                                                                    
         <ul class="itemize2">
         <li class="itemize">Az   <span class="cmtt-10">(a -&gt; a -&gt; a) </span>típusú paraméter az operátort reprezentálja.
         </li>
         <li class="itemize">A <span class="cmtt-10">Char </span>típusú paraméter a kifejezésekben használt operátor szimbólumát (műveleti jelét)
         reprezentálja.
         </li>
         <li class="itemize">Az <span class="cmtt-10">Int </span>típusú paraméter, amely a kötési erősséget reprezentálja.
         </li>
         <li class="itemize">A <span class="cmtt-10">Dir </span>típusú paraméter, amely a kötési irányt reprezentálja.</li></ul>
     </li></ul>
<!-- l. 76 --><p class="indent">   A típusra írjunk manuálisan <span class="cmtt-10">Show </span>és <span class="cmtt-10">Eq </span>példányt, amelyek az operátor konstruktor függvényparaméterén
kívül minden mást kiírnak/összehasonlítanak. Tesztek a működésre:
</p><!-- l. 1 --><p class="indent">
</p>
   <pre class="fancyvrb" id="fancyvrb1"><a id="x1-3010r1"></a><span id="textcolor1"><span class="cmtt-10">show</span></span><span id="textcolor2"> </span><span id="textcolor3"><span class="cmtt-10">BrckOpen</span></span><span id="textcolor4"> </span><span id="textcolor5"><span class="cmtt-10">==</span></span><span id="textcolor6"> </span><span id="textcolor7"><span class="cmtt-10">"BrckOpen"</span></span> 
<a id="x1-3012r2"></a><span id="textcolor8"><span class="cmtt-10">show</span></span><span id="textcolor9"> </span><span id="textcolor10"><span class="cmtt-10">BrckClose</span></span><span id="textcolor11"> </span><span id="textcolor12"><span class="cmtt-10">==</span></span><span id="textcolor13"> </span><span id="textcolor14"><span class="cmtt-10">"BrckClose"</span></span> 
<a id="x1-3014r3"></a><span id="textcolor15"><span class="cmtt-10">show</span></span><span id="textcolor16"> </span><span class="cmtt-10">(</span><span id="textcolor17"><span class="cmtt-10">TokLit</span></span><span id="textcolor18"> </span><span id="textcolor19"><span class="cmtt-10">1</span></span><span class="cmtt-10">)</span><span id="textcolor20"> </span><span id="textcolor21"><span class="cmtt-10">==</span></span><span id="textcolor22"> </span><span id="textcolor23"><span class="cmtt-10">"TokLit 1"</span></span> 
<a id="x1-3016r4"></a><span id="textcolor24"><span class="cmtt-10">show</span></span><span id="textcolor25"> </span><span class="cmtt-10">(</span><span id="textcolor26"><span class="cmtt-10">TokLit</span></span><span id="textcolor27"> </span><span id="textcolor28"><span class="cmtt-10">True</span></span><span class="cmtt-10">)</span><span id="textcolor29"> </span><span id="textcolor30"><span class="cmtt-10">==</span></span><span id="textcolor31"> </span><span id="textcolor32"><span class="cmtt-10">"TokLit True"</span></span> 
<a id="x1-3018r5"></a><span id="textcolor33"><span class="cmtt-10">show</span></span><span id="textcolor34"> </span><span class="cmtt-10">(</span><span id="textcolor35"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor36"> </span><span class="cmtt-10">(</span><span id="textcolor37"><span class="cmtt-10">+</span></span><span class="cmtt-10">)</span><span id="textcolor38"> </span><span id="textcolor39"><span class="cmtt-10">'+'</span></span><span id="textcolor40"> </span><span id="textcolor41"><span class="cmtt-10">6</span></span><span id="textcolor42"> </span><span id="textcolor43"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">)</span><span id="textcolor44"> </span><span id="textcolor45"><span class="cmtt-10">==</span></span><span id="textcolor46"> </span><span id="textcolor47"><span class="cmtt-10">"TokBinOp '+' 6 InfixL"</span></span> 
<a id="x1-3020r6"></a><span id="textcolor48"><span class="cmtt-10">show</span></span><span id="textcolor49"> </span><span class="cmtt-10">(</span><span id="textcolor50"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor51"> </span><span class="cmtt-10">(</span><span id="textcolor52"><span class="cmtt-10">**</span></span><span class="cmtt-10">)</span><span id="textcolor53"> </span><span id="textcolor54"><span class="cmtt-10">'^'</span></span><span id="textcolor55"> </span><span id="textcolor56"><span class="cmtt-10">8</span></span><span id="textcolor57"> </span><span id="textcolor58"><span class="cmtt-10">InfixR</span></span><span class="cmtt-10">)</span><span id="textcolor59"> </span><span id="textcolor60"><span class="cmtt-10">==</span></span><span id="textcolor61"> </span><span id="textcolor62"><span class="cmtt-10">"TokBinOp '^' 8 InfixR"</span></span> 
<a id="x1-3022r7"></a><span id="textcolor63"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor64"> </span><span class="cmtt-10">(</span><span id="textcolor65"><span class="cmtt-10">+</span></span><span class="cmtt-10">)</span><span id="textcolor66"> </span><span id="textcolor67"><span class="cmtt-10">'+'</span></span><span id="textcolor68"> </span><span id="textcolor69"><span class="cmtt-10">6</span></span><span id="textcolor70"> </span><span id="textcolor71"><span class="cmtt-10">InfixL</span></span><span id="textcolor72"> </span><span id="textcolor73"><span class="cmtt-10">/=</span></span><span id="textcolor74"> </span><span id="textcolor75"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor76"> </span><span class="cmtt-10">(</span><span id="textcolor77"><span class="cmtt-10">-</span></span><span class="cmtt-10">)</span><span id="textcolor78"> </span><span id="textcolor79"><span class="cmtt-10">'-'</span></span><span id="textcolor80"> </span><span id="textcolor81"><span class="cmtt-10">6</span></span><span id="textcolor82"> </span><span id="textcolor83"><span class="cmtt-10">InfixL</span></span> 
<a id="x1-3024r8"></a><span id="textcolor84"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor85"> </span><span class="cmtt-10">(</span><span id="textcolor86"><span class="cmtt-10">-</span></span><span class="cmtt-10">)</span><span id="textcolor87"> </span><span id="textcolor88"><span class="cmtt-10">'-'</span></span><span id="textcolor89"> </span><span id="textcolor90"><span class="cmtt-10">6</span></span><span id="textcolor91"> </span><span id="textcolor92"><span class="cmtt-10">InfixL</span></span><span id="textcolor93"> </span><span id="textcolor94"><span class="cmtt-10">==</span></span><span id="textcolor95"> </span><span id="textcolor96"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor97"> </span><span class="cmtt-10">(</span><span id="textcolor98"><span class="cmtt-10">+</span></span><span class="cmtt-10">)</span><span id="textcolor99"> </span><span id="textcolor100"><span class="cmtt-10">'-'</span></span><span id="textcolor101"> </span><span id="textcolor102"><span class="cmtt-10">6</span></span><span id="textcolor103"> </span><span id="textcolor104"><span class="cmtt-10">InfixL</span></span></pre>
<!-- l. 89 --><p class="indent">
                                                                                    
                                                                                    
</p><!-- l. 91 --><p class="indent">   Másoljuk az alábbi kódrészletet a megoldásunkba (ha nem a skeleton fájlból indultunk ki).
</p>
   <pre class="fancyvrb" id="fancyvrb2"><a id="x1-3042r1"></a><span id="textcolor105"><span class="cmtt-10">basicInstances</span></span><span id="textcolor106"> </span><span id="textcolor107"><span class="cmtt-10">=</span></span><span id="textcolor108"> </span><span id="textcolor109"><span class="cmtt-10">0</span></span><span id="textcolor110"> </span><span id="textcolor111"><span class="cmitt-10">-- Ez a tesztelőnek szükséges!</span></span> 
<a id="x1-3044r2"></a> 
<a id="x1-3046r3"></a><span id="textcolor112"><span class="cmtt-10">type</span></span><span id="textcolor113"> </span><span id="textcolor114"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor115"> </span><span class="cmtt-10">a</span><span id="textcolor116"> </span><span id="textcolor117"><span class="cmtt-10">=</span></span><span id="textcolor118"> </span><span class="cmtt-10">[(</span><span id="textcolor119"><span class="cmtt-10">Char</span></span><span class="cmtt-10">,</span><span id="textcolor120"> </span><span class="cmtt-10">(a</span><span id="textcolor121"> </span><span id="textcolor122"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor123"> </span><span class="cmtt-10">a</span><span id="textcolor124"> </span><span id="textcolor125"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor126"> </span><span class="cmtt-10">a,</span><span id="textcolor127"> </span><span id="textcolor128"><span class="cmtt-10">Int</span></span><span class="cmtt-10">,</span><span id="textcolor129"> </span><span id="textcolor130"><span class="cmtt-10">Dir</span></span><span class="cmtt-10">))]</span> 
<a id="x1-3048r4"></a> 
<a id="x1-3050r5"></a><span id="textcolor131"><span class="cmtt-10">tAdd</span></span><span class="cmtt-10">,</span><span id="textcolor132"> </span><span class="cmtt-10">tMinus,</span><span id="textcolor133"> </span><span class="cmtt-10">tMul,</span><span id="textcolor134"> </span><span class="cmtt-10">tDiv,</span><span id="textcolor135"> </span><span class="cmtt-10">tPow</span><span id="textcolor136"> </span><span id="textcolor137"><span class="cmtt-10">::</span></span><span id="textcolor138"> </span><span id="textcolor139"><span class="cmtt-10">Floating</span></span><span id="textcolor140"> </span><span class="cmtt-10">a</span><span id="textcolor141"> </span><span id="textcolor142"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor143"> </span><span id="textcolor144"><span class="cmtt-10">Tok</span></span><span id="textcolor145"> </span><span class="cmtt-10">a</span> 
<a id="x1-3052r6"></a><span id="textcolor146"><span class="cmtt-10">tAdd</span></span><span id="textcolor147"> </span><span id="textcolor148"><span class="cmtt-10">=</span></span><span id="textcolor149"> </span><span id="textcolor150"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor151"> </span><span class="cmtt-10">(</span><span id="textcolor152"><span class="cmtt-10">+</span></span><span class="cmtt-10">)</span><span id="textcolor153"> </span><span id="textcolor154"><span class="cmtt-10">'+'</span></span><span id="textcolor155"> </span><span id="textcolor156"><span class="cmtt-10">6</span></span><span id="textcolor157"> </span><span id="textcolor158"><span class="cmtt-10">InfixL</span></span> 
<a id="x1-3054r7"></a><span id="textcolor159"><span class="cmtt-10">tMinus</span></span><span id="textcolor160"> </span><span id="textcolor161"><span class="cmtt-10">=</span></span><span id="textcolor162"> </span><span id="textcolor163"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor164"> </span><span class="cmtt-10">(</span><span id="textcolor165"><span class="cmtt-10">-</span></span><span class="cmtt-10">)</span><span id="textcolor166"> </span><span id="textcolor167"><span class="cmtt-10">'-'</span></span><span id="textcolor168"> </span><span id="textcolor169"><span class="cmtt-10">6</span></span><span id="textcolor170"> </span><span id="textcolor171"><span class="cmtt-10">InfixL</span></span> 
<a id="x1-3056r8"></a><span id="textcolor172"><span class="cmtt-10">tMul</span></span><span id="textcolor173"> </span><span id="textcolor174"><span class="cmtt-10">=</span></span><span id="textcolor175"> </span><span id="textcolor176"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor177"> </span><span class="cmtt-10">(</span><span id="textcolor178"><span class="cmtt-10">*</span></span><span class="cmtt-10">)</span><span id="textcolor179"> </span><span id="textcolor180"><span class="cmtt-10">'*'</span></span><span id="textcolor181"> </span><span id="textcolor182"><span class="cmtt-10">7</span></span><span id="textcolor183"> </span><span id="textcolor184"><span class="cmtt-10">InfixL</span></span> 
<a id="x1-3058r9"></a><span id="textcolor185"><span class="cmtt-10">tDiv</span></span><span id="textcolor186"> </span><span id="textcolor187"><span class="cmtt-10">=</span></span><span id="textcolor188"> </span><span id="textcolor189"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor190"> </span><span class="cmtt-10">(</span><span id="textcolor191"><span class="cmtt-10">/</span></span><span class="cmtt-10">)</span><span id="textcolor192"> </span><span id="textcolor193"><span class="cmtt-10">'/'</span></span><span id="textcolor194"> </span><span id="textcolor195"><span class="cmtt-10">7</span></span><span id="textcolor196"> </span><span id="textcolor197"><span class="cmtt-10">InfixL</span></span> 
<a id="x1-3060r10"></a><span id="textcolor198"><span class="cmtt-10">tPow</span></span><span id="textcolor199"> </span><span id="textcolor200"><span class="cmtt-10">=</span></span><span id="textcolor201"> </span><span id="textcolor202"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor203"> </span><span class="cmtt-10">(</span><span id="textcolor204"><span class="cmtt-10">**</span></span><span class="cmtt-10">)</span><span id="textcolor205"> </span><span id="textcolor206"><span class="cmtt-10">'^'</span></span><span id="textcolor207"> </span><span id="textcolor208"><span class="cmtt-10">8</span></span><span id="textcolor209"> </span><span id="textcolor210"><span class="cmtt-10">InfixR</span></span> 
<a id="x1-3062r11"></a> 
<a id="x1-3064r12"></a><span id="textcolor211"><span class="cmtt-10">operatorTable</span></span><span id="textcolor212"> </span><span id="textcolor213"><span class="cmtt-10">::</span></span><span id="textcolor214"> </span><span id="textcolor215"><span class="cmtt-10">Floating</span></span><span id="textcolor216"> </span><span class="cmtt-10">a</span><span id="textcolor217"> </span><span id="textcolor218"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor219"> </span><span id="textcolor220"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor221"> </span><span class="cmtt-10">a</span> 
<a id="x1-3066r13"></a><span id="textcolor222"><span class="cmtt-10">operatorTable</span></span><span id="textcolor223"> </span><span id="textcolor224"><span class="cmtt-10">=</span></span><span id="textcolor225"> </span><span class="cmtt-10">[</span> 
<a id="x1-3068r14"></a><span id="textcolor226">  </span><span class="cmtt-10">(</span><span id="textcolor227"><span class="cmtt-10">'+'</span></span><span class="cmtt-10">,</span><span id="textcolor228"> </span><span class="cmtt-10">((</span><span id="textcolor229"><span class="cmtt-10">+</span></span><span class="cmtt-10">),</span><span id="textcolor230"> </span><span id="textcolor231"><span class="cmtt-10">6</span></span><span class="cmtt-10">,</span><span id="textcolor232"> </span><span id="textcolor233"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">)),</span><span id="textcolor234">  </span><span class="cmtt-10">(</span><span id="textcolor235"><span class="cmtt-10">'-'</span></span><span class="cmtt-10">,</span><span id="textcolor236"> </span><span class="cmtt-10">((</span><span id="textcolor237"><span class="cmtt-10">-</span></span><span class="cmtt-10">),</span><span id="textcolor238">  </span><span id="textcolor239"><span class="cmtt-10">6</span></span><span class="cmtt-10">,</span><span id="textcolor240"> </span><span id="textcolor241"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">)),</span><span id="textcolor242">  </span><span class="cmtt-10">(</span><span id="textcolor243"><span class="cmtt-10">'*'</span></span><span class="cmtt-10">,</span><span id="textcolor244"> </span><span class="cmtt-10">((</span><span id="textcolor245"><span class="cmtt-10">*</span></span><span class="cmtt-10">),</span><span id="textcolor246"> </span><span id="textcolor247"><span class="cmtt-10">7</span></span><span class="cmtt-10">,</span><span id="textcolor248"> </span><span id="textcolor249"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">)),</span> 
<a id="x1-3070r15"></a><span id="textcolor250">  </span><span class="cmtt-10">(</span><span id="textcolor251"><span class="cmtt-10">'/'</span></span><span class="cmtt-10">,</span><span id="textcolor252"> </span><span class="cmtt-10">((</span><span id="textcolor253"><span class="cmtt-10">/</span></span><span class="cmtt-10">),</span><span id="textcolor254"> </span><span id="textcolor255"><span class="cmtt-10">7</span></span><span class="cmtt-10">,</span><span id="textcolor256"> </span><span id="textcolor257"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">)),</span><span id="textcolor258">  </span><span class="cmtt-10">(</span><span id="textcolor259"><span class="cmtt-10">'^'</span></span><span class="cmtt-10">,</span><span id="textcolor260"> </span><span class="cmtt-10">((</span><span id="textcolor261"><span class="cmtt-10">**</span></span><span class="cmtt-10">),</span><span id="textcolor262"> </span><span id="textcolor263"><span class="cmtt-10">8</span></span><span class="cmtt-10">,</span><span id="textcolor264"> </span><span id="textcolor265"><span class="cmtt-10">InfixR</span></span><span class="cmtt-10">))</span> 
<a id="x1-3072r16"></a><span id="textcolor266">  </span><span class="cmtt-10">]</span></pre>
   <h4 class="likesubsectionHead" id="operatorra-alakitas-kotelezo"><a id="x1-4000"></a>Operátorrá alakítás - <span class="cmbx-10">KÖTELEZŐ</span></h4>
<!-- l. 111 --><p class="noindent">Definiáljuk az <span class="cmtt-10">operatorFromChar </span>függvényt, amely egy adott operátortáblából megpróbálja kinyerni egy
adott szimbólumhoz tartozó információt. Ha a táblázat tartalmaz a karakter által meghatározott művelethez
információt, akkor adjuk vissza az eredményt a korábban megadott reprezentációval (<span class="cmtt-10">TokBinOp</span>) egy <span class="cmtt-10">Just</span>
konstruktorba csomagolva. Ha nincs rendelkezésre álló információ, akkor az eredmény legyen
<span class="cmtt-10">Nothing</span>.
</p>
   <pre class="fancyvrb" id="fancyvrb3"><a id="x1-4003r1"></a><span id="textcolor267"><span class="cmtt-10">operatorFromChar</span></span><span id="textcolor268"> </span><span id="textcolor269"><span class="cmtt-10">::</span></span><span id="textcolor270"> </span><span id="textcolor271"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor272"> </span><span class="cmtt-10">a</span><span id="textcolor273"> </span><span id="textcolor274"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor275"> </span><span id="textcolor276"><span class="cmtt-10">Char</span></span><span id="textcolor277"> </span><span id="textcolor278"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor279"> </span><span id="textcolor280"><span class="cmtt-10">Maybe</span></span><span id="textcolor281"> </span><span class="cmtt-10">(</span><span id="textcolor282"><span class="cmtt-10">Tok</span></span><span id="textcolor283"> </span><span class="cmtt-10">a)</span></pre>
<!-- l. 115 --><p class="noindent">Az egyszerűség kedvéért a tesztekben az alábbi függvényt fogjuk használni <span class="cmbx-10">(Ezt a függvényt a megoldásban
ne használjuk fel)</span>! Másoljuk az alábbi kódrészletet a megoldásunkba (ha nem a skeleton fájlból indultunk
ki).
</p>
   <pre class="fancyvrb" id="fancyvrb4"><a id="x1-4007r1"></a><span id="textcolor284"><span class="cmtt-10">getOp</span></span><span id="textcolor285"> </span><span id="textcolor286"><span class="cmtt-10">::</span></span><span id="textcolor287"> </span><span id="textcolor288"><span class="cmtt-10">Floating</span></span><span id="textcolor289"> </span><span class="cmtt-10">a</span><span id="textcolor290"> </span><span id="textcolor291"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor292"> </span><span id="textcolor293"><span class="cmtt-10">Char</span></span><span id="textcolor294"> </span><span id="textcolor295"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor296"> </span><span id="textcolor297"><span class="cmtt-10">Maybe</span></span><span id="textcolor298"> </span><span class="cmtt-10">(</span><span id="textcolor299"><span class="cmtt-10">Tok</span></span><span id="textcolor300"> </span><span class="cmtt-10">a)</span> 
<a id="x1-4009r2"></a><span id="textcolor301"><span class="cmtt-10">getOp</span></span><span id="textcolor302"> </span><span id="textcolor303"><span class="cmtt-10">=</span></span><span id="textcolor304"> </span><span class="cmtt-10">operatorFromChar</span><span id="textcolor305"> </span><span class="cmtt-10">operatorTable</span></pre>
<!-- l. 120 --><p class="noindent">Tesztek a működésre:
</p>
   <pre class="fancyvrb" id="fancyvrb5"><a id="x1-4017r1"></a><span id="textcolor306"><span class="cmtt-10">getOp</span></span><span id="textcolor307"> </span><span id="textcolor308"><span class="cmtt-10">'+'</span></span><span id="textcolor309"> </span><span id="textcolor310"><span class="cmtt-10">==</span></span><span id="textcolor311"> </span><span id="textcolor312"><span class="cmtt-10">Just</span></span><span id="textcolor313"> </span><span class="cmtt-10">tAdd</span> 
<a id="x1-4019r2"></a><span id="textcolor314"><span class="cmtt-10">getOp</span></span><span id="textcolor315"> </span><span id="textcolor316"><span class="cmtt-10">'-'</span></span><span id="textcolor317"> </span><span id="textcolor318"><span class="cmtt-10">==</span></span><span id="textcolor319"> </span><span id="textcolor320"><span class="cmtt-10">Just</span></span><span id="textcolor321"> </span><span class="cmtt-10">tMinus</span> 
<a id="x1-4021r3"></a><span id="textcolor322"><span class="cmtt-10">getOp</span></span><span id="textcolor323"> </span><span id="textcolor324"><span class="cmtt-10">'^'</span></span><span id="textcolor325"> </span><span id="textcolor326"><span class="cmtt-10">==</span></span><span id="textcolor327"> </span><span id="textcolor328"><span class="cmtt-10">Just</span></span><span id="textcolor329"> </span><span class="cmtt-10">tPow</span> 
<a id="x1-4023r4"></a><span id="textcolor330"><span class="cmtt-10">getOp</span></span><span id="textcolor331"> </span><span id="textcolor332"><span class="cmtt-10">'#'</span></span><span id="textcolor333"> </span><span id="textcolor334"><span class="cmtt-10">==</span></span><span id="textcolor335"> </span><span id="textcolor336"><span class="cmtt-10">Nothing</span></span> 
<a id="x1-4025r5"></a><span id="textcolor337"><span class="cmtt-10">operatorFromChar</span></span><span id="textcolor338"> </span><span id="textcolor339"><span class="cmtt-10">[]</span></span><span id="textcolor340"> </span><span id="textcolor341"><span class="cmtt-10">'+'</span></span><span id="textcolor342"> </span><span id="textcolor343"><span class="cmtt-10">==</span></span><span id="textcolor344"> </span><span id="textcolor345"><span class="cmtt-10">Nothing</span></span> 
<a id="x1-4027r6"></a><span id="textcolor346"><span class="cmtt-10">operatorFromChar</span></span><span id="textcolor347"> </span><span class="cmtt-10">[(</span><span id="textcolor348"><span class="cmtt-10">'+'</span></span><span class="cmtt-10">,</span><span id="textcolor349"> </span><span class="cmtt-10">((</span><span id="textcolor350"><span class="cmtt-10">/</span></span><span class="cmtt-10">),</span><span id="textcolor351"> </span><span id="textcolor352"><span class="cmtt-10">7</span></span><span class="cmtt-10">,</span><span id="textcolor353"> </span><span id="textcolor354"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">))]</span><span id="textcolor355"> </span><span id="textcolor356"><span class="cmtt-10">'+'</span></span><span id="textcolor357"> </span><span id="textcolor358"><span class="cmtt-10">==</span></span><span id="textcolor359"> </span><span id="textcolor360"><span class="cmtt-10">Just</span></span><span id="textcolor361"> </span><span class="cmtt-10">(</span><span id="textcolor362"><span class="cmtt-10">TokBinOp</span></span><span id="textcolor363"> </span><span class="cmtt-10">(</span><span id="textcolor364"><span class="cmtt-10">/</span></span><span class="cmtt-10">)</span><span id="textcolor365"> </span><span id="textcolor366"><span class="cmtt-10">'+'</span></span><span id="textcolor367"> </span><span id="textcolor368"><span class="cmtt-10">7</span></span><span id="textcolor369"> </span><span id="textcolor370"><span class="cmtt-10">InfixL</span></span><span class="cmtt-10">)</span></pre>
<!-- l. 129 --><p class="noindent">
</p>
   <h4 class="likesubsectionHead" id="stringek-tokenizalasa-kotelezo"><a id="x1-5000"></a><span class="cmtt-10">String</span>-ek tokenizálása - <span class="cmbx-10">KÖTELEZŐ</span></h4>
<!-- l. 130 --><p class="noindent">Már egyes operátorokat tudunk karakterből tokenné alakítani, ezért innentől már tetszőleges <span class="cmtt-10">String</span>-et is
megpróbálhatunk tokensorozattá alakítani. Definiáljuk a <span class="cmtt-10">parseTokens </span>függvényt, amely egy <span class="cmtt-10">String</span>-et egy
adott operátortábla segítségével egy tokenek listájává alakít. Hasonlóan az előző feladathoz, itt is
előfordulhat, hogy nem tudjuk értelmezni a kifejezést. Amennyiben olyan elemeket tartalmaz, ami nem
értelmezhető, akkor a függvény <span class="cmtt-10">Nothing </span>értéket adjon eredményül. Az elemzés első lépéseként a
<span class="cmtt-10">String</span>-et felbontjuk szavakra a szóközök mentén. Ügyeljünk arra, hogy a szóközök csak elválasztók,
így az ne legyen probléma, ha a <span class="cmtt-10">String </span>esetleg szóközökkel kezdődik, szóközökkel végződik,
illetve több szóköz van a tokenek között. A felesleges szóközök ne okozzanak fennakadást! Az
így kapott szavakat próbáljuk meg tokenek sorozatává alakítani. Ennek lépései a következők:
</p>
     <ul class="itemize1">
     <li class="itemize">Ha nyitó/csukó zárójel(ek)ből áll a szó, akkor annyi darab nyitó/csukó zárójel tokent adjunk
     vissza.
     </li>
     <li class="itemize">Ha egy karakterből áll a szó, akkor nézzük meg, hogy olyan nevű operátor létezik-e. Ha igen,
     akkor a megadott reprezentációban adjuk azt vissza, különben
                                                                                    
                                                                                    
     </li>
     <li class="itemize">próbáljuk  meg  a  <span class="cmtt-10">readMaybe </span>függvénnyel  (a  <span class="cmtt-10">Text.Read </span>modulból)  literállá  alakítani  azt.
     Amennyiben a <span class="cmtt-10">readMaybe </span>függvény <span class="cmtt-10">Nothing</span>-ot adna vissza, a teljes tokenizálás folyamata álljon
     meg és <span class="cmtt-10">Nothing </span>legyen az eredmény.</li></ul>
<!-- l. 138 --><p class="indent">   Segítség a <span class="cmtt-10">readMaybe </span>használathoz, hogy annak használata ne okozzon fennakadást: A <span class="cmtt-10">readMaybe</span>
eredményének típusa (tekintve hogy az Ad-hoc polimorf) a környezetből derül ki, így azt nem mindegy hogy
milyen kontextusban használjuk. <span class="cmbx-10">A legjobb, ha csak egyszer használjuk </span>és azt a függvény törzsében
tesszük (nem guardban). Amennyiben mégis szeretnénk a <span class="cmtt-10">readMaybe </span>eredményét több helyen is hivatkozni
(pl. őrfeltételben is), akkor lokális definícióként rendeljük egy konstanshoz a függvény alkalmazás
eredményét. Egy példa, mire is gondolunk pontosan:
</p>
   <pre class="fancyvrb" id="fancyvrb6"><a id="x1-5008r1"></a><span id="textcolor371"><span class="cmtt-10">f</span></span><span id="textcolor372"> </span><span id="textcolor373"><span class="cmtt-10">::</span></span><span id="textcolor374"> </span><span id="textcolor375"><span class="cmtt-10">String</span></span><span id="textcolor376"> </span><span id="textcolor377"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor378"> </span><span id="textcolor379"><span class="cmtt-10">Integer</span></span> 
<a id="x1-5010r2"></a><span id="textcolor380"><span class="cmtt-10">f</span></span><span id="textcolor381"> </span><span class="cmtt-10">str</span> 
<a id="x1-5012r3"></a><span id="textcolor382">  </span><span id="textcolor383"><span class="cmtt-10">|</span></span><span id="textcolor384"> </span><span id="textcolor385"><span class="cmtt-10">...</span></span><span id="textcolor386"> </span><span class="cmtt-10">rd</span><span id="textcolor387"> </span><span id="textcolor388"><span class="cmtt-10">...</span></span><span id="textcolor389"> </span><span id="textcolor390"><span class="cmtt-10">=</span></span><span id="textcolor391"> </span><span id="textcolor392"><span class="cmtt-10">...</span></span><span id="textcolor393"> </span><span class="cmtt-10">rd</span><span id="textcolor394"> </span><span id="textcolor395"><span class="cmtt-10">...</span></span> 
<a id="x1-5014r4"></a><span id="textcolor396">  </span><span id="textcolor397"><span class="cmtt-10">|</span></span><span id="textcolor398"> </span><span class="cmtt-10">otherwise</span><span id="textcolor399">  </span><span id="textcolor400"><span class="cmtt-10">=</span></span><span id="textcolor401"> </span><span id="textcolor402"><span class="cmtt-10">...</span></span> 
<a id="x1-5016r5"></a><span id="textcolor403">  </span><span id="textcolor404"><span class="cmtt-10">where</span></span> 
<a id="x1-5018r6"></a><span id="textcolor405">    </span><span class="cmtt-10">rd</span><span id="textcolor406"> </span><span id="textcolor407"><span class="cmtt-10">=</span></span><span id="textcolor408"> </span><span class="cmtt-10">readMaybe</span><span id="textcolor409"> </span><span class="cmtt-10">str</span></pre>
<!-- l. 150 --><p class="noindent">A függvény típusa:
</p>
   <pre class="fancyvrb" id="fancyvrb7"><a id="x1-5021r1"></a><span id="textcolor410"><span class="cmtt-10">parseTokens</span></span><span id="textcolor411"> </span><span id="textcolor412"><span class="cmtt-10">::</span></span><span id="textcolor413"> </span><span id="textcolor414"><span class="cmtt-10">Read</span></span><span id="textcolor415"> </span><span class="cmtt-10">a</span><span id="textcolor416"> </span><span id="textcolor417"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor418"> </span><span id="textcolor419"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor420"> </span><span class="cmtt-10">a</span><span id="textcolor421"> </span><span id="textcolor422"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor423"> </span><span id="textcolor424"><span class="cmtt-10">String</span></span><span id="textcolor425"> </span><span id="textcolor426"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor427"> </span><span id="textcolor428"><span class="cmtt-10">Maybe</span></span><span id="textcolor429"> </span><span class="cmtt-10">[</span><span id="textcolor430"><span class="cmtt-10">Tok</span></span><span id="textcolor431"> </span><span class="cmtt-10">a]</span></pre>
<!-- l. 154 --><p class="noindent">Az egyszerűség kedvéért a tesztekben az alábbi függvényeket fogjuk használni. Másoljuk az alábbi kódrészletet a
megoldásunkba (ha nem a skeleton fájlból indultunk ki):
</p>
   <pre class="fancyvrb" id="fancyvrb8"><a id="x1-5025r1"></a><span id="textcolor432"><span class="cmtt-10">parse</span></span><span id="textcolor433"> </span><span id="textcolor434"><span class="cmtt-10">::</span></span><span id="textcolor435"> </span><span id="textcolor436"><span class="cmtt-10">String</span></span><span id="textcolor437"> </span><span id="textcolor438"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor439"> </span><span id="textcolor440"><span class="cmtt-10">Maybe</span></span><span id="textcolor441"> </span><span class="cmtt-10">[</span><span id="textcolor442"><span class="cmtt-10">Tok</span></span><span id="textcolor443"> </span><span id="textcolor444"><span class="cmtt-10">Double</span></span><span class="cmtt-10">]</span> 
<a id="x1-5027r2"></a><span id="textcolor445"><span class="cmtt-10">parse</span></span><span id="textcolor446"> </span><span id="textcolor447"><span class="cmtt-10">=</span></span><span id="textcolor448"> </span><span class="cmtt-10">parseTokens</span><span id="textcolor449"> </span><span class="cmtt-10">operatorTable</span></pre>
<!-- l. 159 --><p class="noindent">Tesztek a működésre:
</p>
   <pre class="fancyvrb" id="fancyvrb9"><a id="x1-5038r1"></a><span id="textcolor450"><span class="cmtt-10">parse</span></span><span id="textcolor451"> </span><span id="textcolor452"><span class="cmtt-10">"1 + 2"</span></span><span id="textcolor453"> </span><span id="textcolor454"><span class="cmtt-10">==</span></span><span id="textcolor455"> </span><span id="textcolor456"><span class="cmtt-10">Just</span></span><span id="textcolor457"> </span><span class="cmtt-10">[</span><span id="textcolor458"><span class="cmtt-10">TokLit</span></span><span id="textcolor459"> </span><span id="textcolor460"><span class="cmtt-10">1</span></span><span class="cmtt-10">,</span><span id="textcolor461"> </span><span class="cmtt-10">tAdd,</span><span id="textcolor462"> </span><span id="textcolor463"><span class="cmtt-10">TokLit</span></span><span id="textcolor464"> </span><span id="textcolor465"><span class="cmtt-10">2</span></span><span class="cmtt-10">]</span> 
<a id="x1-5040r2"></a><span id="textcolor466"><span class="cmtt-10">parse</span></span><span id="textcolor467"> </span><span id="textcolor468"><span class="cmtt-10">"+ +"</span></span><span id="textcolor469"> </span><span id="textcolor470"><span class="cmtt-10">==</span></span><span id="textcolor471"> </span><span id="textcolor472"><span class="cmtt-10">Just</span></span><span id="textcolor473"> </span><span class="cmtt-10">[tAdd,</span><span id="textcolor474"> </span><span class="cmtt-10">tAdd]</span> 
<a id="x1-5042r3"></a><span id="textcolor475"><span class="cmtt-10">parse</span></span><span id="textcolor476"> </span><span id="textcolor477"><span class="cmtt-10">"1 - ( 2 / 3 )"</span></span><span id="textcolor478"> </span><span id="textcolor479"><span class="cmtt-10">==</span></span><span id="textcolor480"> </span><span id="textcolor481"><span class="cmtt-10">Just</span></span><span id="textcolor482"> </span><span class="cmtt-10">[</span><span id="textcolor483"><span class="cmtt-10">TokLit</span></span><span id="textcolor484"> </span><span id="textcolor485"><span class="cmtt-10">1</span></span><span class="cmtt-10">,</span><span id="textcolor486"> </span><span class="cmtt-10">tMinus,</span><span id="textcolor487"> </span><span id="textcolor488"><span class="cmtt-10">BrckOpen</span></span><span class="cmtt-10">,</span><span id="textcolor489"> </span><span id="textcolor490"><span class="cmtt-10">TokLit</span></span><span id="textcolor491"> </span><span id="textcolor492"><span class="cmtt-10">2</span></span><span class="cmtt-10">,</span><span id="textcolor493"> </span><span class="cmtt-10">tDiv,</span><span id="textcolor494"> </span><span id="textcolor495"><span class="cmtt-10">TokLit</span></span><span id="textcolor496"> </span><span id="textcolor497"><span class="cmtt-10">3</span></span><span class="cmtt-10">,</span><span id="textcolor498"> </span><span id="textcolor499"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]</span> 
<a id="x1-5044r4"></a><span id="textcolor500"><span class="cmtt-10">parse</span></span><span id="textcolor501"> </span><span id="textcolor502"><span class="cmtt-10">"(("</span></span><span id="textcolor503"> </span><span id="textcolor504"><span class="cmtt-10">==</span></span><span id="textcolor505"> </span><span id="textcolor506"><span class="cmtt-10">Just</span></span><span id="textcolor507"> </span><span class="cmtt-10">[</span><span id="textcolor508"><span class="cmtt-10">BrckOpen</span></span><span class="cmtt-10">,</span><span id="textcolor509"> </span><span id="textcolor510"><span class="cmtt-10">BrckOpen</span></span><span class="cmtt-10">]</span> 
<a id="x1-5046r5"></a><span id="textcolor511"><span class="cmtt-10">parse</span></span><span id="textcolor512"> </span><span id="textcolor513"><span class="cmtt-10">"1 12 + )"</span></span><span id="textcolor514"> </span><span id="textcolor515"><span class="cmtt-10">==</span></span><span id="textcolor516"> </span><span id="textcolor517"><span class="cmtt-10">Just</span></span><span id="textcolor518"> </span><span class="cmtt-10">[</span><span id="textcolor519"><span class="cmtt-10">TokLit</span></span><span id="textcolor520"> </span><span id="textcolor521"><span class="cmtt-10">1</span></span><span class="cmtt-10">,</span><span id="textcolor522"> </span><span id="textcolor523"><span class="cmtt-10">TokLit</span></span><span id="textcolor524"> </span><span id="textcolor525"><span class="cmtt-10">12</span></span><span class="cmtt-10">,</span><span id="textcolor526"> </span><span class="cmtt-10">tAdd,</span><span id="textcolor527"> </span><span id="textcolor528"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]</span> 
<a id="x1-5048r6"></a><span id="textcolor529"><span class="cmtt-10">parse</span></span><span id="textcolor530"> </span><span id="textcolor531"><span class="cmtt-10">"1 # 2"</span></span><span id="textcolor532"> </span><span id="textcolor533"><span class="cmtt-10">==</span></span><span id="textcolor534"> </span><span id="textcolor535"><span class="cmtt-10">Nothing</span></span> 
<a id="x1-5050r7"></a><span id="textcolor536"><span class="cmtt-10">parse</span></span><span id="textcolor537"> </span><span id="textcolor538"><span class="cmtt-10">"almafa"</span></span><span id="textcolor539"> </span><span id="textcolor540"><span class="cmtt-10">==</span></span><span id="textcolor541"> </span><span id="textcolor542"><span class="cmtt-10">Nothing</span></span> 
<a id="x1-5052r8"></a><span id="textcolor543"><span class="cmtt-10">parse</span></span><span id="textcolor544"> </span><span id="textcolor545"><span class="cmtt-10">"1.5 + 2"</span></span><span id="textcolor546"> </span><span id="textcolor547"><span class="cmtt-10">==</span></span><span id="textcolor548"> </span><span id="textcolor549"><span class="cmtt-10">Just</span></span><span id="textcolor550"> </span><span class="cmtt-10">[</span><span id="textcolor551"><span class="cmtt-10">TokLit</span></span><span id="textcolor552"> </span><span id="textcolor553"><span class="cmtt-10">1.5</span></span><span class="cmtt-10">,</span><span id="textcolor554"> </span><span class="cmtt-10">tAdd,</span><span id="textcolor555"> </span><span id="textcolor556"><span class="cmtt-10">TokLit</span></span><span id="textcolor557"> </span><span id="textcolor558"><span class="cmtt-10">2</span></span><span class="cmtt-10">]</span> 
<a id="x1-5054r9"></a><span id="textcolor559"><span class="cmtt-10">parse</span></span><span id="textcolor560"> </span><span id="textcolor561"><span class="cmtt-10">"  1.5     +  2   "</span></span><span id="textcolor562"> </span><span id="textcolor563"><span class="cmtt-10">==</span></span><span id="textcolor564"> </span><span id="textcolor565"><span class="cmtt-10">Just</span></span><span id="textcolor566"> </span><span class="cmtt-10">[</span><span id="textcolor567"><span class="cmtt-10">TokLit</span></span><span id="textcolor568"> </span><span id="textcolor569"><span class="cmtt-10">1.5</span></span><span class="cmtt-10">,</span><span id="textcolor570"> </span><span class="cmtt-10">tAdd,</span><span id="textcolor571"> </span><span id="textcolor572"><span class="cmtt-10">TokLit</span></span><span id="textcolor573"> </span><span id="textcolor574"><span class="cmtt-10">2</span></span><span class="cmtt-10">]</span></pre>
<!-- l. 171 --><p class="noindent">
</p>
   <h4 class="likesubsectionHead" id="alap-shunting-yard-algoritmus-kotesi-erosseg-es-iranyok-figyelmen-kivul-hagyasa-kotelezo"><a id="x1-6000"></a>Alap Shunting Yard algoritmus - kötési erősség és irányok figyelmen kívül hagyása - <span class="cmbx-10">KÖTELEZŐ</span></h4>
<!-- l. 172 --><p class="noindent">Az algoritmust inkrementálisan fogjuk felépíteni, először az operátorok kötési irányát és erősségét
ignoráljuk, majd későbbi feladatokban kiegészítjük az algoritmust.
</p><!-- l. 174 --><p class="indent">   Az algoritmus megvalósításához két segédlistát veszünk fel paraméterül: egy literál- és egy operátorlistát.
A tokensorozat feldolgozása során az alábbi műveleteket végezzük el: </p>
     <ul class="itemize1">
     <li class="itemize">Ha  literál  tokent  kapunk,  akkor  azt  szúrjuk  be  a  literál  lista  elejére  kicsomagolva,  és  azzal
     folytassuk az algoritmust.
     </li>
     <li class="itemize">Ha nyitó zárójel vagy operátor tokent kapunk, akkor azt szúrjuk be az operátor lista elejére, és
     azzal folytassuk az algoritmust.
     </li>
     <li class="itemize">Ha csukózárójel tokent kapunk, akkor keressük meg az első nyitó zárójel tokent az operátor
     listában és vegyük le az előtte lévő operátorokat. Ezeket az operátorokat sorban kiértékeljük a
     literál lista elemeivel, úgy, hogy mindig leveszünk két elemet a literál lista elejéről, kombináljuk a
     függvény segítségével, majd visszarakjuk az eredményt a lista elejére. Fontos, hogy az operátor
     paraméterei a literál listában fordított sorrendben vannak, ezért az operátorokat a paramétereire
     fordítva kell alkalmazni.</li></ul>
<!-- l. 180 --><p class="noindent">Ezzel a módszerrel minden operátor jobbra köt és a kötési erősségük azonos. Egy szemléltető példa az
algoritmus működésre az 1 + 2 <span class="cmsy-10">∗ </span>(3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5 kifejezésre: </p>
<div class="center">
<!-- l. 181 --><p class="noindent">
</p>
<table class="tabularray tblr" id="tbl-1"> <tbody><tr id="row-1-1-"><td id="cell1-1-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Tokensorozat</span>   </td><td id="cell1-1-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Operátor Lista</span>  </td><td id="cell1-1-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Literál Lista</span>  </td>  </tr>
 <tr id="row-1-2-"><td id="cell1-2-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  1 + 2 <span class="cmsy-10">∗ </span>(3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5  </td><td id="cell1-2-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∅</span>          </td><td id="cell1-2-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> <span class="cmsy-10">∅</span>        </td>  </tr>
 <tr id="row-1-3-"><td id="cell1-3-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> +2 <span class="cmsy-10">∗ </span>(3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5     </td><td id="cell1-3-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∅</span>          </td><td id="cell1-3-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> 1                   </td>  </tr>
 <tr id="row-1-4-"><td id="cell1-4-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2 <span class="cmsy-10">∗ </span>(3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5       </td><td id="cell1-4-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  +                      </td><td id="cell1-4-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  1                   </td>  </tr>
 <tr id="row-1-5-"><td id="cell1-5-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗</span>(3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5          </td><td id="cell1-5-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  +                      </td><td id="cell1-5-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2<span class="cmmi-10">,</span>1                </td>  </tr>
 <tr id="row-1-6-"><td id="cell1-6-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  (3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5           </td><td id="cell1-6-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                   </td><td id="cell1-6-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2<span class="cmmi-10">,</span>1                </td>  </tr>
 <tr id="row-1-7-"><td id="cell1-7-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  3 <span class="cmsy-10">− </span>4)<span class="cmmi-10">∕</span>5            </td><td id="cell1-7-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  (<span class="cmmi-10">,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                 </td><td id="cell1-7-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2<span class="cmmi-10">,</span>1                </td>  </tr>
 <tr id="row-1-8-"><td id="cell1-8-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span>4)<span class="cmmi-10">∕</span>5               </td><td id="cell1-8-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  (<span class="cmmi-10">,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                 </td><td id="cell1-8-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  3<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1             </td>  </tr>
 <tr id="row-1-9-"><td id="cell1-9-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  4)<span class="cmmi-10">∕</span>5                  </td><td id="cell1-9-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span><span class="cmmi-10">,</span>(<span class="cmmi-10">,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+             </td><td id="cell1-9-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  3<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1             </td>  </tr>
 <tr id="row-1-10-"><td id="cell1-10-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  )<span class="cmmi-10">∕</span>5                   </td><td id="cell1-10-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span><span class="cmmi-10">,</span>(<span class="cmmi-10">,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+             </td><td id="cell1-10-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  4<span class="cmmi-10">,</span>3<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1           </td>  </tr>
 <tr id="row-1-11-"><td id="cell1-11-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmmi-10">∕</span>5                    </td><td id="cell1-11-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span><span class="cmmi-10">,</span>(<span class="cmmi-10">,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+             </td><td id="cell1-11-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  4<span class="cmmi-10">,</span>3<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1           </td>  </tr>
 <tr id="row-1-12-"><td id="cell1-12-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmmi-10">∕</span>5                    </td><td id="cell1-12-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                   </td><td id="cell1-12-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span>1<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1           </td>  </tr>
 <tr id="row-1-13-"><td id="cell1-13-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  5                      </td><td id="cell1-13-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmmi-10">∕,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                </td><td id="cell1-13-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span>1<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1           </td>  </tr>
 <tr id="row-1-14-"><td id="cell1-14-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∅</span>          </td><td id="cell1-14-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> <span class="cmmi-10">∕,</span><span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                </td><td id="cell1-14-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  5<span class="cmmi-10">,</span><span class="cmsy-10">−</span>1<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1        </td>  </tr>
 
 
 
 
 
 
 
 
 
 
 
 
 
 </tbody></table></div>
<!-- l. 200 --><p class="noindent">Mivel kiértékelést csak csukó zárójel esetén végzünk, ezért az algoritmus maradhat ”félig kész”
állapotban. Továbbá feltehető, hogy ha <span class="cmtt-10">’)’ </span>jellel találkozunk, akkor mindig van egy hozzátartozó <span class="cmtt-10">’(’</span>
is.
</p><!-- l. 202 --><p class="indent">   Definiáljuk a <span class="cmtt-10">shuntingYardBasic </span>függvényt, amely egy token sorozat alapján visszaadja egy rendezett
párban a kiértékeletlen literál és operátor tokenek listáját. Az olyan esetekkel, amelyek fent nincsenek
definiálva (például, ha nincs literál a listában, de egy operátort akarnánk alkalmazni) még nem kell
foglalkozni.
</p>
   <pre class="fancyvrb" id="fancyvrb10"><a id="x1-6003r1"></a><span id="textcolor575"><span class="cmtt-10">shuntingYardBasic</span></span><span id="textcolor576"> </span><span id="textcolor577"><span class="cmtt-10">::</span></span><span id="textcolor578"> </span><span class="cmtt-10">[</span><span id="textcolor579"><span class="cmtt-10">Tok</span></span><span id="textcolor580"> </span><span class="cmtt-10">a]</span><span id="textcolor581"> </span><span id="textcolor582"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor583"> </span><span class="cmtt-10">([a],</span><span id="textcolor584"> </span><span class="cmtt-10">[</span><span id="textcolor585"><span class="cmtt-10">Tok</span></span><span id="textcolor586"> </span><span class="cmtt-10">a])</span></pre>
<!-- l. 206 --><p class="noindent">Másoljuk az alábbi kódrészletet a megoldásunkba (ha nem a skeleton fájlból indultunk ki).
</p>
   <pre class="fancyvrb" id="fancyvrb11"><a id="x1-6016r1"></a><span id="textcolor587"><span class="cmtt-10">parseAndEval</span></span><span id="textcolor588"> </span><span id="textcolor589"><span class="cmtt-10">::</span></span> 
<a id="x1-6018r2"></a><span id="textcolor590">    </span><span class="cmtt-10">(</span><span id="textcolor591"><span class="cmtt-10">String</span></span><span id="textcolor592"> </span><span id="textcolor593"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor594"> </span><span id="textcolor595"><span class="cmtt-10">Maybe</span></span><span id="textcolor596"> </span><span class="cmtt-10">[</span><span id="textcolor597"><span class="cmtt-10">Tok</span></span><span id="textcolor598"> </span><span class="cmtt-10">a])</span><span id="textcolor599"> </span><span id="textcolor600"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-6020r3"></a><span id="textcolor601">     </span><span class="cmtt-10">([</span><span id="textcolor602"><span class="cmtt-10">Tok</span></span><span id="textcolor603"> </span><span class="cmtt-10">a]</span><span id="textcolor604"> </span><span id="textcolor605"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor606"> </span><span class="cmtt-10">([a],</span><span id="textcolor607"> </span><span class="cmtt-10">[</span><span id="textcolor608"><span class="cmtt-10">Tok</span></span><span id="textcolor609"> </span><span class="cmtt-10">a]))</span><span id="textcolor610"> </span><span id="textcolor611"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-6022r4"></a><span id="textcolor612">     </span><span id="textcolor613"><span class="cmtt-10">String</span></span><span id="textcolor614"> </span><span id="textcolor615"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor616"> </span><span id="textcolor617"><span class="cmtt-10">Maybe</span></span><span id="textcolor618"> </span><span class="cmtt-10">([a],</span><span id="textcolor619"> </span><span class="cmtt-10">[</span><span id="textcolor620"><span class="cmtt-10">Tok</span></span><span id="textcolor621"> </span><span class="cmtt-10">a])</span> 
<a id="x1-6024r5"></a><span id="textcolor622"><span class="cmtt-10">parseAndEval</span></span><span id="textcolor623"> </span><span class="cmtt-10">parse</span><span id="textcolor624"> </span><span class="cmtt-10">eval</span><span id="textcolor625"> </span><span class="cmtt-10">input</span><span id="textcolor626"> </span><span id="textcolor627"><span class="cmtt-10">=</span></span><span id="textcolor628"> </span><span class="cmtt-10">maybe</span><span id="textcolor629"> </span><span id="textcolor630"><span class="cmtt-10">Nothing</span></span><span id="textcolor631"> </span><span class="cmtt-10">(</span><span id="textcolor632"><span class="cmtt-10">Just</span></span><span id="textcolor633"> </span><span id="textcolor634"><span class="cmtt-10">.</span></span><span id="textcolor635"> </span><span class="cmtt-10">eval)</span><span id="textcolor636"> </span><span class="cmtt-10">(parse</span><span id="textcolor637"> </span><span class="cmtt-10">input)</span> 
<a id="x1-6026r6"></a> 
<a id="x1-6028r7"></a><span id="textcolor638"><span class="cmtt-10">syNoEval</span></span><span id="textcolor639"> </span><span id="textcolor640"><span class="cmtt-10">::</span></span><span id="textcolor641"> </span><span id="textcolor642"><span class="cmtt-10">String</span></span><span id="textcolor643"> </span><span id="textcolor644"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor645"> </span><span id="textcolor646"><span class="cmtt-10">Maybe</span></span><span id="textcolor647"> </span><span class="cmtt-10">([</span><span id="textcolor648"><span class="cmtt-10">Double</span></span><span class="cmtt-10">],</span><span id="textcolor649"> </span><span class="cmtt-10">[</span><span id="textcolor650"><span class="cmtt-10">Tok</span></span><span id="textcolor651"> </span><span id="textcolor652"><span class="cmtt-10">Double</span></span><span class="cmtt-10">])</span> 
<a id="x1-6030r8"></a><span id="textcolor653"><span class="cmtt-10">syNoEval</span></span><span id="textcolor654"> </span><span id="textcolor655"><span class="cmtt-10">=</span></span><span id="textcolor656"> </span><span class="cmtt-10">parseAndEval</span><span id="textcolor657"> </span><span class="cmtt-10">parse</span><span id="textcolor658"> </span><span class="cmtt-10">shuntingYardBasic</span> 
<a id="x1-6032r9"></a> 
<a id="x1-6034r10"></a><span id="textcolor659"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor660"> </span><span id="textcolor661"><span class="cmtt-10">::</span></span><span id="textcolor662"> </span><span id="textcolor663"><span class="cmtt-10">String</span></span><span id="textcolor664"> </span><span id="textcolor665"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor666"> </span><span id="textcolor667"><span class="cmtt-10">Maybe</span></span><span id="textcolor668"> </span><span class="cmtt-10">([</span><span id="textcolor669"><span class="cmtt-10">Double</span></span><span class="cmtt-10">],</span><span id="textcolor670"> </span><span class="cmtt-10">[</span><span id="textcolor671"><span class="cmtt-10">Tok</span></span><span id="textcolor672"> </span><span id="textcolor673"><span class="cmtt-10">Double</span></span><span class="cmtt-10">])</span> 
<a id="x1-6036r11"></a><span id="textcolor674"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor675"> </span><span id="textcolor676"><span class="cmtt-10">=</span></span><span id="textcolor677"> </span><span class="cmtt-10">parseAndEval</span><span id="textcolor678"> </span><span class="cmtt-10">parse</span><span id="textcolor679"> </span><span class="cmtt-10">(</span><span id="textcolor680"><span class="cmtt-10">\</span></span><span class="cmtt-10">t</span><span id="textcolor681"> </span><span id="textcolor682"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor683"> </span><span class="cmtt-10">shuntingYardBasic</span><span id="textcolor684"> </span><span id="textcolor685"><span class="cmtt-10">$</span></span><span id="textcolor686"> </span><span id="textcolor687"><span class="cmtt-10">BrckOpen</span></span><span id="textcolor688"> </span><span id="textcolor689"><span class="cmtt-10">:</span></span><span id="textcolor690"> </span><span class="cmtt-10">(t</span><span id="textcolor691"> </span><span id="textcolor692"><span class="cmtt-10">++</span></span><span id="textcolor693"> </span><span class="cmtt-10">[</span><span id="textcolor694"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]))</span></pre>
<!-- l. 220 --><p class="noindent">Tesztek a működésre:
</p>
   <pre class="fancyvrb" id="fancyvrb12"><a id="x1-6048r1"></a><span id="textcolor695"><span class="cmtt-10">syNoEval</span></span><span id="textcolor696"> </span><span id="textcolor697"><span class="cmtt-10">"1 + 2"</span></span><span id="textcolor698"> </span><span id="textcolor699"><span class="cmtt-10">==</span></span><span id="textcolor700"> </span><span id="textcolor701"><span class="cmtt-10">Just</span></span><span id="textcolor702"> </span><span class="cmtt-10">([</span><span id="textcolor703"><span class="cmtt-10">2.0</span></span><span class="cmtt-10">,</span><span id="textcolor704"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],[tAdd])</span> 
<a id="x1-6050r2"></a><span id="textcolor705"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor706"> </span><span id="textcolor707"><span class="cmtt-10">"1 + 2"</span></span><span id="textcolor708"> </span><span id="textcolor709"><span class="cmtt-10">==</span></span><span id="textcolor710"> </span><span id="textcolor711"><span class="cmtt-10">Just</span></span><span id="textcolor712"> </span><span class="cmtt-10">([</span><span id="textcolor713"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">],</span><span id="textcolor714"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-6052r3"></a><span id="textcolor715"><span class="cmtt-10">syNoEval</span></span><span id="textcolor716"> </span><span id="textcolor717"><span class="cmtt-10">"10 * 10 * 12"</span></span><span id="textcolor718"> </span><span id="textcolor719"><span class="cmtt-10">==</span></span><span id="textcolor720"> </span><span id="textcolor721"><span class="cmtt-10">Just</span></span><span id="textcolor722"> </span><span class="cmtt-10">([</span><span id="textcolor723"><span class="cmtt-10">12.0</span></span><span class="cmtt-10">,</span><span id="textcolor724"><span class="cmtt-10">10.0</span></span><span class="cmtt-10">,</span><span id="textcolor725"><span class="cmtt-10">10.0</span></span><span class="cmtt-10">],[tMul,</span><span id="textcolor726"> </span><span class="cmtt-10">tMul])</span> 
<a id="x1-6054r4"></a><span id="textcolor727"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor728"> </span><span id="textcolor729"><span class="cmtt-10">"10 * 10 * 12"</span></span><span id="textcolor730"> </span><span id="textcolor731"><span class="cmtt-10">==</span></span><span id="textcolor732"> </span><span id="textcolor733"><span class="cmtt-10">Just</span></span><span id="textcolor734"> </span><span class="cmtt-10">([</span><span id="textcolor735"><span class="cmtt-10">1200.0</span></span><span class="cmtt-10">],</span><span id="textcolor736"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-6056r5"></a><span id="textcolor737"><span class="cmtt-10">syNoEval</span></span><span id="textcolor738"> </span><span id="textcolor739"><span class="cmtt-10">"10 * 10 - 12"</span></span><span id="textcolor740"> </span><span id="textcolor741"><span class="cmtt-10">==</span></span><span id="textcolor742"> </span><span id="textcolor743"><span class="cmtt-10">Just</span></span><span id="textcolor744"> </span><span class="cmtt-10">([</span><span id="textcolor745"><span class="cmtt-10">12.0</span></span><span class="cmtt-10">,</span><span id="textcolor746"><span class="cmtt-10">10.0</span></span><span class="cmtt-10">,</span><span id="textcolor747"><span class="cmtt-10">10.0</span></span><span class="cmtt-10">],[tMinus,</span><span id="textcolor748"> </span><span class="cmtt-10">tMul])</span> 
<a id="x1-6058r6"></a><span id="textcolor749"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor750"> </span><span id="textcolor751"><span class="cmtt-10">"10 * 10 - 12"</span></span><span id="textcolor752"> </span><span id="textcolor753"><span class="cmtt-10">==</span></span><span id="textcolor754"> </span><span id="textcolor755"><span class="cmtt-10">Just</span></span><span id="textcolor756"> </span><span class="cmtt-10">([</span><span id="textcolor757"><span class="cmtt-10">-</span></span><span id="textcolor758"><span class="cmtt-10">20.0</span></span><span class="cmtt-10">],</span><span id="textcolor759"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-6060r7"></a><span id="textcolor760"><span class="cmtt-10">syNoEval</span></span><span id="textcolor761"> </span><span id="textcolor762"><span class="cmtt-10">"( 10 * 10 ) - 12"</span></span><span id="textcolor763"> </span><span id="textcolor764"><span class="cmtt-10">==</span></span><span id="textcolor765"> </span><span id="textcolor766"><span class="cmtt-10">Just</span></span><span id="textcolor767"> </span><span class="cmtt-10">([</span><span id="textcolor768"><span class="cmtt-10">12.0</span></span><span class="cmtt-10">,</span><span id="textcolor769"><span class="cmtt-10">100.0</span></span><span class="cmtt-10">],[tMinus])</span> 
<a id="x1-6062r8"></a><span id="textcolor770"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor771"> </span><span id="textcolor772"><span class="cmtt-10">"( 10 * 10 ) - 12"</span></span><span id="textcolor773"> </span><span id="textcolor774"><span class="cmtt-10">==</span></span><span id="textcolor775"> </span><span id="textcolor776"><span class="cmtt-10">Just</span></span><span id="textcolor777"> </span><span class="cmtt-10">([</span><span id="textcolor778"><span class="cmtt-10">88.0</span></span><span class="cmtt-10">],</span><span id="textcolor779"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-6064r9"></a><span id="textcolor780"><span class="cmtt-10">syNoEval</span></span><span id="textcolor781"> </span><span id="textcolor782"><span class="cmtt-10">"1 + 2 * 3 - 4"</span></span><span id="textcolor783"> </span><span id="textcolor784"><span class="cmtt-10">==</span></span><span id="textcolor785"> </span><span id="textcolor786"><span class="cmtt-10">Just</span></span><span id="textcolor787"> </span><span class="cmtt-10">([</span><span id="textcolor788"><span class="cmtt-10">4.0</span></span><span class="cmtt-10">,</span><span id="textcolor789"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">,</span><span id="textcolor790"><span class="cmtt-10">2.0</span></span><span class="cmtt-10">,</span><span id="textcolor791"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],[tMinus,tMul,tAdd])</span> 
<a id="x1-6066r10"></a><span id="textcolor792"><span class="cmtt-10">syEvalBasic</span></span><span id="textcolor793"> </span><span id="textcolor794"><span class="cmtt-10">"1 + 2 * 3 - 4"</span></span><span id="textcolor795"> </span><span id="textcolor796"><span class="cmtt-10">==</span></span><span id="textcolor797"> </span><span id="textcolor798"><span class="cmtt-10">Just</span></span><span id="textcolor799"> </span><span class="cmtt-10">([</span><span id="textcolor800"><span class="cmtt-10">-</span></span><span id="textcolor801"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],</span><span id="textcolor802"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span></pre>
                                                                                    
                                                                                    
<!-- l. 233 --><p class="noindent">
</p>
   <h4 class="likesubsectionHead" id="az-algoritmus-javitasa-kotesi-erossegek-es-iranyok-figyelembevetele-kotelezo"><a id="x1-7000"></a>Az algoritmus javítása - kötési erősségek és irányok figyelembevétele - <span class="cmbx-10">KÖTELEZŐ</span></h4>
<!-- l. 234 --><p class="noindent">Egészítsük ki az algoritmust, hogy figyelembe vegye a kötési erősségeket és irányokat is. A korábban
megadott algoritmus működése csak az operátor tokenek olvasása során változik:
</p><!-- l. 236 --><p class="indent">   Operátor beszúrása esetén először vegyük le azokat az operátorokat a lista elejéről, amelyek kötési
erőssége nagyobb, mint a beszúrandó operátoré (a csukó zárójel kötési erőssége legyen 0) <span class="cmbx-10">vagy </span>ha
 a
beszúrandó operátor balra kötő, akkor azokat vegyük le a listában lévő 
operátorok közül, amelyek kötési erőssége nagyobb egyenlők a
beszúrandónál. A kivett operátorokat értékeljük ki a literál listán 
ugyanazon a módon, mint a csukó zárójel
token esetén tettük. Az új operátorlista a maradék, nem kiértékelt 
operátorok listája legyen, amelynek az
elejére illesszük be az aktuálisan beszúrandó operátort.
</p><!-- l. 238 --><p class="indent">   Egy szemléltető példa az 1 + 2 <span class="cmsy-10">∗ </span>3 <span class="cmsy-10">− </span>4 kifejezésre: </p>
<div class="center">
<!-- l. 239 --><p class="noindent">
</p>
<table class="tabularray tblr" id="tbl-2"> <tbody><tr id="row-2-1-"><td id="cell2-1-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Tokensorozat</span>  </td><td id="cell2-1-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Operátor Lista</span>  </td><td id="cell2-1-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Literál Lista</span>  </td><td id="cell2-1-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmbx-10">Magyarázat</span>                                                                                       </td>   </tr>
 <tr id="row-2-2-"><td id="cell2-2-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  1 + 2 <span class="cmsy-10">∗ </span>3 <span class="cmsy-10">− </span>4     </td><td id="cell2-2-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∅</span>          </td><td id="cell2-2-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> <span class="cmsy-10">∅</span>        </td><td id="cell2-2-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">                                                    </td>   </tr>
<tr id="row-2-3-"><td id="cell2-3-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> +2 <span class="cmsy-10">∗ </span>3 <span class="cmsy-10">− </span>4     </td><td id="cell2-3-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> <span class="cmsy-10">∅</span>              </td><td id="cell2-3-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> 1            </td><td id="cell2-3-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">                                                                            </td>                                                                                                                          </tr>
 <tr id="row-2-4-"><td id="cell2-4-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2 <span class="cmsy-10">∗ </span>3 <span class="cmsy-10">− </span>4           </td><td id="cell2-4-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  +                      </td><td id="cell2-4-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  1                   </td><td id="cell2-4-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  Nincs kiértékelendő operátor                                                                                </td>   </tr>
 <tr id="row-2-5-"><td id="cell2-5-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗</span>3 <span class="cmsy-10">− </span>4             </td><td id="cell2-5-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  +                      </td><td id="cell2-5-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2<span class="cmmi-10">,</span>1                </td><td id="cell2-5-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">                                                                                                                        </td>   </tr>
 <tr id="row-2-6-"><td id="cell2-6-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  3 <span class="cmsy-10">− </span>4               </td><td id="cell2-6-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                   </td><td id="cell2-6-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  2<span class="cmmi-10">,</span>1                </td><td id="cell2-6-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗ </span>kötési erőssége nagyobb, <br class="newline">nincs kiértékelendő operátor                                                                                </td>
                                                                        
                                                                        
                                                </tr>
 <tr id="row-2-7-"><td id="cell2-7-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span>4                  </td><td id="cell2-7-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∗</span><span class="cmmi-10">,</span>+                   </td><td id="cell2-7-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  3<span class="cmmi-10">,</span>2<span class="cmmi-10">,</span>1             </td><td id="cell2-7-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">                                                                                                                        </td>   </tr>
 <tr id="row-2-8-"><td id="cell2-8-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  4                    </td><td id="cell2-8-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">−</span>          </td><td id="cell2-8-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> 7                   </td><td id="cell2-8-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  a <span class="cmsy-10">− </span>operátor kötési erőssége kisebb egyenlő mint, <br class="newline">a <span class="cmsy-10">∗</span>-é és a +-é, ezért a <span class="cmsy-10">∗</span>-gal kiértékeljük a<br class="newline">literál lista első két elemét, majd annak az eredmény és a literál lista 3. elemét az +-al.  </td>
                                                                        
                                                                        
                                                </tr>
 <tr id="row-2-9-"><td id="cell2-9-1" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">  <span class="cmsy-10">∅</span>         </td><td id="cell2-9-2" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> <span class="cmsy-10">−</span>          </td><td id="cell2-9-3" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left=""> 4<span class="cmmi-10">,</span>7                </td><td id="cell2-9-4" style="text-align: justify; vertical-align: top; border-top: 0.797px solid rgb(0, 0, 0); border-left: 0.797px solid rgb(0, 0, 0); --darkreader-inline-border-top: var(--darkreader-border-000000, #8c8273); --darkreader-inline-border-left: var(--darkreader-border-000000, #8c8273);" data-darkreader-inline-border-top="" data-darkreader-inline-border-left="">                                                                                                                        </td>   </tr>
 
 
 
 
 
 
 
 
 </tbody></table></div>
<!-- l. 255 --><p class="indent">   Definiáljuk a <span class="cmtt-10">shuntingYardPrecedence </span>függvényt, amely a fent leírtaknak megfelelően egészíti ki az
alap Shunting Yard algoritmust. A megoldáshoz ajánlott az előző megoldás kódját felhasználni. Mivel a
zárójelek között ki is kell értékelni, ezért feltehető, hogy ha <span class="cmtt-10">’)’ </span>jellel találkozunk, akkor mindig van egy
hozzátartozó <span class="cmtt-10">’(’ </span>is.
</p>
   <pre class="fancyvrb" id="fancyvrb13"><a id="x1-7003r1"></a><span id="textcolor803"><span class="cmtt-10">shuntingYardPrecedence</span></span><span id="textcolor804"> </span><span id="textcolor805"><span class="cmtt-10">::</span></span><span id="textcolor806"> </span><span class="cmtt-10">[</span><span id="textcolor807"><span class="cmtt-10">Tok</span></span><span id="textcolor808"> </span><span class="cmtt-10">a]</span><span id="textcolor809"> </span><span id="textcolor810"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor811"> </span><span class="cmtt-10">([a],</span><span id="textcolor812"> </span><span class="cmtt-10">[</span><span id="textcolor813"><span class="cmtt-10">Tok</span></span><span id="textcolor814"> </span><span class="cmtt-10">a])</span></pre>
<!-- l. 259 --><p class="noindent">Másoljuk az alábbi kódrészletet a megoldásunkba (ha nem a skeleton fájlból indultunk ki).
</p>
   <pre class="fancyvrb" id="fancyvrb14"><a id="x1-7009r1"></a><span id="textcolor815"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor816"> </span><span id="textcolor817"><span class="cmtt-10">::</span></span><span id="textcolor818"> </span><span id="textcolor819"><span class="cmtt-10">String</span></span><span id="textcolor820"> </span><span id="textcolor821"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor822"> </span><span id="textcolor823"><span class="cmtt-10">Maybe</span></span><span id="textcolor824"> </span><span class="cmtt-10">([</span><span id="textcolor825"><span class="cmtt-10">Double</span></span><span class="cmtt-10">],</span><span id="textcolor826"> </span><span class="cmtt-10">[</span><span id="textcolor827"><span class="cmtt-10">Tok</span></span><span id="textcolor828"> </span><span id="textcolor829"><span class="cmtt-10">Double</span></span><span class="cmtt-10">])</span> 
<a id="x1-7011r2"></a><span id="textcolor830"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor831"> </span><span id="textcolor832"><span class="cmtt-10">=</span></span><span id="textcolor833"> </span><span class="cmtt-10">parseAndEval</span> 
<a id="x1-7013r3"></a><span id="textcolor834">  </span><span class="cmtt-10">parse</span> 
<a id="x1-7015r4"></a><span id="textcolor835">  </span><span class="cmtt-10">(</span><span id="textcolor836"><span class="cmtt-10">\</span></span><span class="cmtt-10">t</span><span id="textcolor837"> </span><span id="textcolor838"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor839"> </span><span class="cmtt-10">shuntingYardPrecedence</span><span id="textcolor840"> </span><span id="textcolor841"><span class="cmtt-10">$</span></span><span id="textcolor842"> </span><span id="textcolor843"><span class="cmtt-10">BrckOpen</span></span><span id="textcolor844"> </span><span id="textcolor845"><span class="cmtt-10">:</span></span><span id="textcolor846"> </span><span class="cmtt-10">(t</span><span id="textcolor847"> </span><span id="textcolor848"><span class="cmtt-10">++</span></span><span id="textcolor849"> </span><span class="cmtt-10">[</span><span id="textcolor850"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]))</span></pre>
<!-- l. 266 --><p class="noindent">Tesztek a működésre:
</p>
   <pre class="fancyvrb" id="fancyvrb15"><a id="x1-7027r1"></a><span id="textcolor851"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor852"> </span><span id="textcolor853"><span class="cmtt-10">"1 + 2"</span></span><span id="textcolor854"> </span><span id="textcolor855"><span class="cmtt-10">==</span></span><span id="textcolor856"> </span><span id="textcolor857"><span class="cmtt-10">Just</span></span><span id="textcolor858"> </span><span class="cmtt-10">([</span><span id="textcolor859"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">],</span><span id="textcolor860"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7029r2"></a><span id="textcolor861"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor862"> </span><span id="textcolor863"><span class="cmtt-10">"1 + 2 * 3 + 4"</span></span><span id="textcolor864"> </span><span id="textcolor865"><span class="cmtt-10">==</span></span><span id="textcolor866"> </span><span id="textcolor867"><span class="cmtt-10">Just</span></span><span id="textcolor868"> </span><span class="cmtt-10">([</span><span id="textcolor869"><span class="cmtt-10">11.0</span></span><span class="cmtt-10">],</span><span id="textcolor870"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7031r3"></a><span id="textcolor871"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor872"> </span><span id="textcolor873"><span class="cmtt-10">"( 1 + 2 ) * 3 + 4"</span></span><span id="textcolor874"> </span><span id="textcolor875"><span class="cmtt-10">==</span></span><span id="textcolor876"> </span><span id="textcolor877"><span class="cmtt-10">Just</span></span><span id="textcolor878"> </span><span class="cmtt-10">([</span><span id="textcolor879"><span class="cmtt-10">13.0</span></span><span class="cmtt-10">],</span><span id="textcolor880"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7033r4"></a><span id="textcolor881"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor882"> </span><span id="textcolor883"><span class="cmtt-10">"( 1 + 2 ) * ( 3 + 4 )"</span></span><span id="textcolor884"> </span><span id="textcolor885"><span class="cmtt-10">==</span></span><span id="textcolor886"> </span><span id="textcolor887"><span class="cmtt-10">Just</span></span><span id="textcolor888"> </span><span class="cmtt-10">([</span><span id="textcolor889"><span class="cmtt-10">21.0</span></span><span class="cmtt-10">],</span><span id="textcolor890"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7035r5"></a><span id="textcolor891"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor892"> </span><span id="textcolor893"><span class="cmtt-10">"1 + 2 * 3 - 4 / 5"</span></span><span id="textcolor894"> </span><span id="textcolor895"><span class="cmtt-10">==</span></span><span id="textcolor896"> </span><span id="textcolor897"><span class="cmtt-10">Just</span></span><span id="textcolor898"> </span><span class="cmtt-10">([</span><span id="textcolor899"><span class="cmtt-10">6.2</span></span><span class="cmtt-10">],</span><span id="textcolor900"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7037r6"></a><span id="textcolor901"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor902"> </span><span id="textcolor903"><span class="cmtt-10">"2 ^ 2 * 3"</span></span><span id="textcolor904"> </span><span id="textcolor905"><span class="cmtt-10">==</span></span><span id="textcolor906"> </span><span id="textcolor907"><span class="cmtt-10">Just</span></span><span id="textcolor908"> </span><span class="cmtt-10">([</span><span id="textcolor909"><span class="cmtt-10">12.0</span></span><span class="cmtt-10">],</span><span id="textcolor910"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7039r7"></a><span id="textcolor911"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor912"> </span><span id="textcolor913"><span class="cmtt-10">"1 - 2 - 3"</span></span><span id="textcolor914"> </span><span id="textcolor915"><span class="cmtt-10">==</span></span><span id="textcolor916"> </span><span id="textcolor917"><span class="cmtt-10">Just</span></span><span id="textcolor918"> </span><span class="cmtt-10">([</span><span id="textcolor919"><span class="cmtt-10">-</span></span><span id="textcolor920"><span class="cmtt-10">4.0</span></span><span class="cmtt-10">],</span><span id="textcolor921"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7041r8"></a><span id="textcolor922"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor923"> </span><span id="textcolor924"><span class="cmtt-10">"+ 1 2"</span></span><span id="textcolor925"> </span><span id="textcolor926"><span class="cmtt-10">==</span></span><span id="textcolor927"> </span><span id="textcolor928"><span class="cmtt-10">Just</span></span><span id="textcolor929"> </span><span class="cmtt-10">([</span><span id="textcolor930"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">],</span><span id="textcolor931"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7043r9"></a><span id="textcolor932"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor933"> </span><span id="textcolor934"><span class="cmtt-10">"    + 1 2   "</span></span><span id="textcolor935"> </span><span id="textcolor936"><span class="cmtt-10">==</span></span><span id="textcolor937"> </span><span id="textcolor938"><span class="cmtt-10">Just</span></span><span id="textcolor939"> </span><span class="cmtt-10">([</span><span id="textcolor940"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">],</span><span id="textcolor941"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-7045r10"></a><span id="textcolor942"><span class="cmtt-10">syEvalPrecedence</span></span><span id="textcolor943"> </span><span id="textcolor944"><span class="cmtt-10">" +   1   2     "</span></span><span id="textcolor945"> </span><span id="textcolor946"><span class="cmtt-10">==</span></span><span id="textcolor947"> </span><span id="textcolor948"><span class="cmtt-10">Just</span></span><span id="textcolor949"> </span><span class="cmtt-10">([</span><span id="textcolor950"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">],</span><span id="textcolor951"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span></pre>
<!-- l. 279 --><p class="noindent">
</p>
   <h3 class="likesectionHead" id="extra-feladatok-nem-kotelezo"><a id="x1-8000"></a>Extra feladatok - nem kötelező</h3>
                                                                                    
                                                                                    
<!-- l. 280 --><p class="noindent">
</p>
   <h4 class="likesubsectionHead" id="pont-bemenetvalidalas"><a id="x1-9000"></a>(1 + 3 pont) Bemenetvalidálás</h4>
<!-- l. 281 --><p class="noindent">Az algoritmus jelenlegi formában elfogad szintaktikailag helytelen programokat is, például a<br class="newline"><span class="cmtt-10">syEvalPrecedence "+ 1 2" </span>kifejezést hiba nélkül kiértékeli, ez viszont nem az elvárt eredmény, itt
nyugodtan visszatérhetne hibával a parse-olás. A feladat során ezeket a hibákat fogjuk kiküszöbölni.
</p>
   <h5 class="likesubsubsectionHead" id="pont-hibatipus-definialasa"><a id="x1-10000"></a>(1 pont) Hibatípus definiálása</h5>
<!-- l. 283 --><p class="noindent">Definiáljuk a <span class="cmtt-10">ShuntingYardError </span>nevű adattípust, amely a különböző hibákat reprezentálhatja. A
konstruktorai az alábbiak legyenek (mind 0 paraméterrel): </p>
     <ul class="itemize1">
     <li class="itemize"><span class="cmtt-10">OperatorOrClosingParenExpected :: ShuntingYardError</span>,  amely  azt  reprezentálja,  hogy
     operátort vagy csukó zárójelet vártunk, de mást kaptunk.
     </li>
     <li class="itemize"><span class="cmtt-10">LiteralOrOpeningParenExpected :: ShuntingYardError</span>,   amely   azt   reprezentálja,   hogy
     literált vagy nyitó zárójelet vártunk, de mást kaptunk.
     </li>
     <li class="itemize"><span class="cmtt-10">NoClosingParen :: ShuntingYardError</span>, amely csukó zárójel hiányát reprezentálja.
     </li>
     <li class="itemize"><span class="cmtt-10">NoOpeningParen :: ShuntingYardError</span>, amely nyitó zárójel hiányát reprezentálja.
     </li>
     <li class="itemize"><span class="cmtt-10">ParseError :: ShuntingYardError</span>, amely parse-olási hibát reprezentál.</li></ul>
<!-- l. 291 --><p class="noindent">Emellett definiáljunk egy <span class="cmtt-10">ShuntingYardResult a </span>típusszinonímát a <span class="cmtt-10">Either ShuntingYardError a </span>típusra.
Kérjük meg a fordítót, hogy automatikusan példányosítson a <span class="cmtt-10">ShuntingYardError </span>típusra <span class="cmtt-10">Eq </span>és <span class="cmtt-10">Show</span>
példányokat.
</p>
   <h5 class="likesubsubsectionHead" id="pont-a-parser-es-az-algoritmus-ujradefinialasa"><a id="x1-11000"></a>(3 pont) A parser és az algoritmus újradefiniálása</h5>
<!-- l. 293 --><p class="noindent">Definiáljuk újra a <span class="cmtt-10">parseTokens </span>és <span class="cmtt-10">shuntingYardPrecedence </span>függvényeket, most már hibakezeléssel.
Kezeljük le az alábbi hibákat: </p>
     <ul class="itemize1">
     <li class="itemize">Ha a parse-olás során akármilyen hiba történik, térjünk vissza <span class="cmtt-10">Left ParseError</span>-ba.
     </li>
     <li class="itemize">Az algoritmus működése során felváltva várunk literálokat, illetve operátorokat (nyitózárójelek
     operátorok  vagy  másik  nyitózárójel  után  jelenhetnek  meg,  és  utánuk  literálok  jönnek,  a
     csukózárójelek pedig literálok után jönnek, és utánuk csukózárójelek vagy operátorok jönnek).
     Ez az erősebb feltétel, ha ezek közül valamelyik feltétel meghiúsul, térjünk vissza a megfelelő
     hibával <span class="cmtt-10">Left</span>-be csomagolva.
     </li>
     <li class="itemize">Az algoritmus működése során csukó zárójel esetén, ha nincs nyitó zárójel az operátor listában
     és az előző feltétel helyes, adjunk vissza <span class="cmtt-10">Left NoOpeningParen</span>-t.
     </li>
     <li class="itemize">Az algoritmus végén ha van nyitó zárójel az operátor listában és a kettővel ez előtti pontban
     taglalt feltétel helyes, akkor adjunk vissza <span class="cmtt-10">Left NoClosingParen</span>-t.</li></ul>
<!-- l. 301 --><p class="indent">   Definiáljuk a <span class="cmtt-10">parseSafe </span>és <span class="cmtt-10">shuntingYardSafe </span>függvényeket, amelyek az eddig megírt algoritmust
elvégzik az fentebb leírt validációkkal.
</p><!-- l. 303 --><p class="indent">   <span class="cmbx-10">Segítség</span>: A feladat során érdemes lehet egy <span class="cmtt-10">bindE :: Either e a -&gt; (a -&gt; Either e b) -&gt; Either
e b </span>típusú függvényt definiálni.
</p>
   <pre class="fancyvrb" id="fancyvrb16"><a id="x1-11004r1"></a><span id="textcolor952"><span class="cmtt-10">parseSafe</span></span><span id="textcolor953"> </span><span id="textcolor954"><span class="cmtt-10">::</span></span><span id="textcolor955"> </span><span id="textcolor956"><span class="cmtt-10">Read</span></span><span id="textcolor957"> </span><span class="cmtt-10">a</span><span id="textcolor958"> </span><span id="textcolor959"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor960"> </span><span id="textcolor961"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor962"> </span><span class="cmtt-10">a</span><span id="textcolor963"> </span><span id="textcolor964"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor965"> </span><span id="textcolor966"><span class="cmtt-10">String</span></span><span id="textcolor967"> </span><span id="textcolor968"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor969"> </span><span id="textcolor970"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor971"> </span><span class="cmtt-10">[</span><span id="textcolor972"><span class="cmtt-10">Tok</span></span><span id="textcolor973"> </span><span class="cmtt-10">a]</span> 
<a id="x1-11006r2"></a><span id="textcolor974"><span class="cmtt-10">shuntingYardSafe</span></span><span id="textcolor975"> </span><span id="textcolor976"><span class="cmtt-10">::</span></span><span id="textcolor977"> </span><span class="cmtt-10">[</span><span id="textcolor978"><span class="cmtt-10">Tok</span></span><span id="textcolor979"> </span><span class="cmtt-10">a]</span><span id="textcolor980"> </span><span id="textcolor981"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor982"> </span><span id="textcolor983"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor984"> </span><span class="cmtt-10">([a],</span><span id="textcolor985"> </span><span class="cmtt-10">[</span><span id="textcolor986"><span class="cmtt-10">Tok</span></span><span id="textcolor987"> </span><span class="cmtt-10">a])</span></pre>
<!-- l. 308 --><p class="noindent">Másoljuk az alábbi kódrészletet a megoldásunkba (ha nem a skeleton fájlból indultunk ki).
</p>
   <pre class="fancyvrb" id="fancyvrb17"><a id="x1-11021r1"></a><span id="textcolor988"><span class="cmtt-10">eqError</span></span><span id="textcolor989"> </span><span id="textcolor990"><span class="cmtt-10">=</span></span><span id="textcolor991"> </span><span id="textcolor992"><span class="cmtt-10">0</span></span><span id="textcolor993"> </span><span id="textcolor994"><span class="cmitt-10">-- Ez a tesztelőnek szükséges!</span></span> 
<a id="x1-11023r2"></a> 
<a id="x1-11025r3"></a><span id="textcolor995"><span class="cmtt-10">parseAndEvalSafe</span></span><span id="textcolor996"> </span><span id="textcolor997"><span class="cmtt-10">::</span></span> 
<a id="x1-11027r4"></a><span id="textcolor998">    </span><span class="cmtt-10">(</span><span id="textcolor999"><span class="cmtt-10">String</span></span><span id="textcolor1000"> </span><span id="textcolor1001"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1002"> </span><span id="textcolor1003"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1004"> </span><span class="cmtt-10">[</span><span id="textcolor1005"><span class="cmtt-10">Tok</span></span><span id="textcolor1006"> </span><span class="cmtt-10">a])</span><span id="textcolor1007"> </span><span id="textcolor1008"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-11029r5"></a><span id="textcolor1009">     </span><span class="cmtt-10">([</span><span id="textcolor1010"><span class="cmtt-10">Tok</span></span><span id="textcolor1011"> </span><span class="cmtt-10">a]</span><span id="textcolor1012"> </span><span id="textcolor1013"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1014"> </span><span id="textcolor1015"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1016"> </span><span class="cmtt-10">([a],</span><span id="textcolor1017"> </span><span class="cmtt-10">[</span><span id="textcolor1018"><span class="cmtt-10">Tok</span></span><span id="textcolor1019"> </span><span class="cmtt-10">a]))</span><span id="textcolor1020"> </span><span id="textcolor1021"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-11031r6"></a><span id="textcolor1022">     </span><span id="textcolor1023"><span class="cmtt-10">String</span></span><span id="textcolor1024"> </span><span id="textcolor1025"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1026"> </span><span id="textcolor1027"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1028"> </span><span class="cmtt-10">([a],</span><span id="textcolor1029"> </span><span class="cmtt-10">[</span><span id="textcolor1030"><span class="cmtt-10">Tok</span></span><span id="textcolor1031"> </span><span class="cmtt-10">a])</span> 
<a id="x1-11033r7"></a><span id="textcolor1032"><span class="cmtt-10">parseAndEvalSafe</span></span><span id="textcolor1033"> </span><span class="cmtt-10">parse</span><span id="textcolor1034"> </span><span class="cmtt-10">eval</span><span id="textcolor1035"> </span><span class="cmtt-10">input</span><span id="textcolor1036"> </span><span id="textcolor1037"><span class="cmtt-10">=</span></span><span id="textcolor1038"> </span><span class="cmtt-10">either</span><span id="textcolor1039"> </span><span id="textcolor1040"><span class="cmtt-10">Left</span></span><span id="textcolor1041"> </span><span class="cmtt-10">eval</span><span id="textcolor1042"> </span><span class="cmtt-10">(parse</span><span id="textcolor1043"> </span><span class="cmtt-10">input)</span> 
<a id="x1-11035r8"></a> 
<a id="x1-11037r9"></a> 
<a id="x1-11039r10"></a><span id="textcolor1044"><span class="cmtt-10">sySafe</span></span><span id="textcolor1045"> </span><span id="textcolor1046"><span class="cmtt-10">::</span></span><span id="textcolor1047"> </span><span id="textcolor1048"><span class="cmtt-10">String</span></span><span id="textcolor1049"> </span><span id="textcolor1050"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1051"> </span><span id="textcolor1052"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1053"> </span><span class="cmtt-10">([</span><span id="textcolor1054"><span class="cmtt-10">Double</span></span><span class="cmtt-10">],</span><span id="textcolor1055"> </span><span class="cmtt-10">[</span><span id="textcolor1056"><span class="cmtt-10">Tok</span></span><span id="textcolor1057"> </span><span id="textcolor1058"><span class="cmtt-10">Double</span></span><span class="cmtt-10">])</span> 
<a id="x1-11041r11"></a><span id="textcolor1059"><span class="cmtt-10">sySafe</span></span><span id="textcolor1060"> </span><span id="textcolor1061"><span class="cmtt-10">=</span></span><span id="textcolor1062"> </span><span class="cmtt-10">parseAndEvalSafe</span> 
<a id="x1-11043r12"></a><span id="textcolor1063">  </span><span class="cmtt-10">(parseSafe</span><span id="textcolor1064"> </span><span class="cmtt-10">operatorTable)</span> 
<a id="x1-11045r13"></a><span id="textcolor1065">  </span><span class="cmtt-10">(</span><span id="textcolor1066"><span class="cmtt-10">\</span></span><span class="cmtt-10">ts</span><span id="textcolor1067"> </span><span id="textcolor1068"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1069"> </span><span class="cmtt-10">shuntingYardSafe</span><span id="textcolor1070"> </span><span class="cmtt-10">(</span><span id="textcolor1071"><span class="cmtt-10">BrckOpen</span></span><span id="textcolor1072"> </span><span id="textcolor1073"><span class="cmtt-10">:</span></span><span id="textcolor1074"> </span><span class="cmtt-10">ts</span><span id="textcolor1075"> </span><span id="textcolor1076"><span class="cmtt-10">++</span></span><span id="textcolor1077"> </span><span class="cmtt-10">[</span><span id="textcolor1078"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]))</span></pre>
<!-- l. 324 --><p class="noindent">Tesztek:
</p>
   <pre class="fancyvrb" id="fancyvrb18"><a id="x1-11054r1"></a><span id="textcolor1079"><span class="cmtt-10">sySafe</span></span><span id="textcolor1080"> </span><span id="textcolor1081"><span class="cmtt-10">"1 + 2"</span></span><span id="textcolor1082"> </span><span id="textcolor1083"><span class="cmtt-10">==</span></span><span id="textcolor1084"> </span><span id="textcolor1085"><span class="cmtt-10">Right</span></span><span id="textcolor1086"> </span><span class="cmtt-10">([</span><span id="textcolor1087"><span class="cmtt-10">3.0</span></span><span class="cmtt-10">],</span><span id="textcolor1088"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-11056r2"></a><span id="textcolor1089"><span class="cmtt-10">sySafe</span></span><span id="textcolor1090"> </span><span id="textcolor1091"><span class="cmtt-10">"+ 1 2"</span></span><span id="textcolor1092"> </span><span id="textcolor1093"><span class="cmtt-10">==</span></span><span id="textcolor1094"> </span><span id="textcolor1095"><span class="cmtt-10">Left</span></span><span id="textcolor1096"> </span><span id="textcolor1097"><span class="cmtt-10">LiteralOrOpeningParenExpected</span></span> 
<a id="x1-11058r3"></a><span id="textcolor1098"><span class="cmtt-10">sySafe</span></span><span id="textcolor1099"> </span><span id="textcolor1100"><span class="cmtt-10">"1 2 +"</span></span><span id="textcolor1101"> </span><span id="textcolor1102"><span class="cmtt-10">==</span></span><span id="textcolor1103"> </span><span id="textcolor1104"><span class="cmtt-10">Left</span></span><span id="textcolor1105"> </span><span id="textcolor1106"><span class="cmtt-10">OperatorOrClosingParenExpected</span></span> 
<a id="x1-11060r4"></a><span id="textcolor1107"><span class="cmtt-10">sySafe</span></span><span id="textcolor1108"> </span><span id="textcolor1109"><span class="cmtt-10">"1 ( 2 + 3 )"</span></span><span id="textcolor1110"> </span><span id="textcolor1111"><span class="cmtt-10">==</span></span><span id="textcolor1112"> </span><span id="textcolor1113"><span class="cmtt-10">Left</span></span><span id="textcolor1114"> </span><span id="textcolor1115"><span class="cmtt-10">OperatorOrClosingParenExpected</span></span> 
<a id="x1-11062r5"></a><span id="textcolor1116"><span class="cmtt-10">sySafe</span></span><span id="textcolor1117"> </span><span id="textcolor1118"><span class="cmtt-10">"1 )"</span></span><span id="textcolor1119"> </span><span id="textcolor1120"><span class="cmtt-10">==</span></span><span id="textcolor1121"> </span><span id="textcolor1122"><span class="cmtt-10">Left</span></span><span id="textcolor1123"> </span><span id="textcolor1124"><span class="cmtt-10">NoOpeningParen</span></span> 
<a id="x1-11064r6"></a><span id="textcolor1125"><span class="cmtt-10">sySafe</span></span><span id="textcolor1126"> </span><span id="textcolor1127"><span class="cmtt-10">"( 1 "</span></span><span id="textcolor1128"> </span><span id="textcolor1129"><span class="cmtt-10">==</span></span><span id="textcolor1130"> </span><span id="textcolor1131"><span class="cmtt-10">Left</span></span><span id="textcolor1132"> </span><span id="textcolor1133"><span class="cmtt-10">NoClosingParen</span></span> 
<a id="x1-11066r7"></a><span id="textcolor1134"><span class="cmtt-10">sySafe</span></span><span id="textcolor1135"> </span><span id="textcolor1136"><span class="cmtt-10">"1 # 2"</span></span><span id="textcolor1137"> </span><span id="textcolor1138"><span class="cmtt-10">==</span></span><span id="textcolor1139"> </span><span id="textcolor1140"><span class="cmtt-10">Left</span></span><span id="textcolor1141"> </span><span id="textcolor1142"><span class="cmtt-10">ParseError</span></span></pre>
<!-- l. 334 --><p class="noindent">
</p>
   <h4 class="likesubsectionHead" id="pont-az-algoritmus-kiegeszitese-fuggvenyhivasokkal"><a id="x1-12000"></a>(1 + 2 + 1 pont) Az algoritmus kiegészítése függvényhívásokkal</h4>
<!-- l. 335 --><p class="noindent">A matematikai kifejezések gyakran tartalmaznak <span class="cmti-10">unér </span>(egy paraméteres) függvényeket (például sin, cos, stb.)
Egészítsük ki az algoritmust, hogy ilyen unér függvényeket is ki tudjon értékelni!
</p>
   <h5 class="likesubsubsectionHead" id="pont-fuggvenytabla-es-a-tipus-kiegeszitese"><a id="x1-13000"></a>(1 pont) Függvénytábla és a típus kiegészítése</h5>
<!-- l. 337 --><p class="noindent">A függvényeket hasonló módon fogjuk kezelni, mint az operátorokat. Egészítsük ki a token típust egy
<span class="cmtt-10">TokFun </span>konstruktorral, amelynek legyen egy  <span class="cmtt-10">(a -&gt; a) </span>típusú paramétere (maga a függvény) és egy <span class="cmtt-10">String</span>
típusú paramétere (a függvény neve). Javítsuk meg az így már helytelen <span class="cmtt-10">Eq </span>és <span class="cmtt-10">Show </span>példányokat (az
egyenlőség vizsgálat és kiírás ugyanúgy működik függvény esetén, mint operátor esetén). Emellett
definiáljunk egy <span class="cmtt-10">FunctionTable a </span>típusszinonímát, amely egy függvénytáblát reprezentál, amelyből
lekérhetünk függvényeket név alapján hasonlóan az operátortáblához. A tesztek során az alábbi
függvénytáblát fogjuk használni:
</p>
   <pre class="fancyvrb" id="fancyvrb19"><a id="x1-13021r1"></a><span id="textcolor1143"><span class="cmtt-10">functionTable</span></span><span id="textcolor1144"> </span><span id="textcolor1145"><span class="cmtt-10">::</span></span><span id="textcolor1146"> </span><span class="cmtt-10">(</span><span id="textcolor1147"><span class="cmtt-10">RealFrac</span></span><span id="textcolor1148"> </span><span class="cmtt-10">a,</span><span id="textcolor1149"> </span><span id="textcolor1150"><span class="cmtt-10">Floating</span></span><span id="textcolor1151"> </span><span class="cmtt-10">a)</span><span id="textcolor1152"> </span><span id="textcolor1153"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1154"> </span><span id="textcolor1155"><span class="cmtt-10">FunctionTable</span></span><span id="textcolor1156"> </span><span class="cmtt-10">a</span> 
<a id="x1-13023r2"></a><span id="textcolor1157"><span class="cmtt-10">functionTable</span></span><span id="textcolor1158"> </span><span id="textcolor1159"><span class="cmtt-10">=</span></span> 
<a id="x1-13025r3"></a><span id="textcolor1160">    </span><span class="cmtt-10">[</span><span id="textcolor1161"> </span><span class="cmtt-10">(</span><span id="textcolor1162"><span class="cmtt-10">"sin"</span></span><span class="cmtt-10">,</span><span id="textcolor1163"> </span><span class="cmtt-10">sin)</span> 
<a id="x1-13027r4"></a><span id="textcolor1164">    </span><span class="cmtt-10">,</span><span id="textcolor1165"> </span><span class="cmtt-10">(</span><span id="textcolor1166"><span class="cmtt-10">"cos"</span></span><span class="cmtt-10">,</span><span id="textcolor1167"> </span><span class="cmtt-10">cos)</span> 
<a id="x1-13029r5"></a><span id="textcolor1168">    </span><span class="cmtt-10">,</span><span id="textcolor1169"> </span><span class="cmtt-10">(</span><span id="textcolor1170"><span class="cmtt-10">"log"</span></span><span class="cmtt-10">,</span><span id="textcolor1171"> </span><span class="cmtt-10">log)</span> 
<a id="x1-13031r6"></a><span id="textcolor1172">    </span><span class="cmtt-10">,</span><span id="textcolor1173"> </span><span class="cmtt-10">(</span><span id="textcolor1174"><span class="cmtt-10">"exp"</span></span><span class="cmtt-10">,</span><span id="textcolor1175"> </span><span class="cmtt-10">exp)</span> 
<a id="x1-13033r7"></a><span id="textcolor1176">    </span><span class="cmtt-10">,</span><span id="textcolor1177"> </span><span class="cmtt-10">(</span><span id="textcolor1178"><span class="cmtt-10">"sqrt"</span></span><span class="cmtt-10">,</span><span id="textcolor1179"> </span><span class="cmtt-10">sqrt)</span> 
<a id="x1-13035r8"></a><span id="textcolor1180">    </span><span class="cmtt-10">,</span><span id="textcolor1181"> </span><span class="cmtt-10">(</span><span id="textcolor1182"><span class="cmtt-10">"round"</span></span><span class="cmtt-10">,</span><span id="textcolor1183"> </span><span class="cmtt-10">(</span><span id="textcolor1184"><span class="cmtt-10">\</span></span><span class="cmtt-10">x</span><span id="textcolor1185"> </span><span id="textcolor1186"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1187"> </span><span class="cmtt-10">fromIntegral</span><span id="textcolor1188"> </span><span class="cmtt-10">(round</span><span id="textcolor1189"> </span><span class="cmtt-10">x</span><span id="textcolor1190"> </span><span id="textcolor1191"><span class="cmtt-10">::</span></span><span id="textcolor1192"> </span><span id="textcolor1193"><span class="cmtt-10">Integer</span></span><span class="cmtt-10">)))</span> 
<a id="x1-13037r9"></a><span id="textcolor1194">    </span><span class="cmtt-10">]</span> 
<a id="x1-13039r10"></a> 
<a id="x1-13041r11"></a><span id="textcolor1195"><span class="cmtt-10">tSin</span></span><span class="cmtt-10">,</span><span id="textcolor1196"> </span><span class="cmtt-10">tCos,</span><span id="textcolor1197"> </span><span class="cmtt-10">tLog,</span><span id="textcolor1198"> </span><span class="cmtt-10">tExp,</span><span id="textcolor1199"> </span><span class="cmtt-10">tSqrt</span><span id="textcolor1200"> </span><span id="textcolor1201"><span class="cmtt-10">::</span></span><span id="textcolor1202"> </span><span id="textcolor1203"><span class="cmtt-10">Floating</span></span><span id="textcolor1204"> </span><span class="cmtt-10">a</span><span id="textcolor1205"> </span><span id="textcolor1206"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1207"> </span><span id="textcolor1208"><span class="cmtt-10">Tok</span></span><span id="textcolor1209"> </span><span class="cmtt-10">a</span> 
<a id="x1-13043r12"></a><span id="textcolor1210"><span class="cmtt-10">tSin</span></span><span id="textcolor1211"> </span><span id="textcolor1212"><span class="cmtt-10">=</span></span><span id="textcolor1213"> </span><span id="textcolor1214"><span class="cmtt-10">TokFun</span></span><span id="textcolor1215"> </span><span class="cmtt-10">sin</span><span id="textcolor1216"> </span><span id="textcolor1217"><span class="cmtt-10">"sin"</span></span> 
<a id="x1-13045r13"></a><span id="textcolor1218"><span class="cmtt-10">tCos</span></span><span id="textcolor1219"> </span><span id="textcolor1220"><span class="cmtt-10">=</span></span><span id="textcolor1221"> </span><span id="textcolor1222"><span class="cmtt-10">TokFun</span></span><span id="textcolor1223"> </span><span class="cmtt-10">cos</span><span id="textcolor1224"> </span><span id="textcolor1225"><span class="cmtt-10">"cos"</span></span> 
<a id="x1-13047r14"></a><span id="textcolor1226"><span class="cmtt-10">tLog</span></span><span id="textcolor1227"> </span><span id="textcolor1228"><span class="cmtt-10">=</span></span><span id="textcolor1229"> </span><span id="textcolor1230"><span class="cmtt-10">TokFun</span></span><span id="textcolor1231"> </span><span class="cmtt-10">log</span><span id="textcolor1232"> </span><span id="textcolor1233"><span class="cmtt-10">"log"</span></span> 
<a id="x1-13049r15"></a><span id="textcolor1234"><span class="cmtt-10">tExp</span></span><span id="textcolor1235"> </span><span id="textcolor1236"><span class="cmtt-10">=</span></span><span id="textcolor1237"> </span><span id="textcolor1238"><span class="cmtt-10">TokFun</span></span><span id="textcolor1239"> </span><span class="cmtt-10">exp</span><span id="textcolor1240"> </span><span id="textcolor1241"><span class="cmtt-10">"exp"</span></span> 
<a id="x1-13051r16"></a><span id="textcolor1242"><span class="cmtt-10">tSqrt</span></span><span id="textcolor1243"> </span><span id="textcolor1244"><span class="cmtt-10">=</span></span><span id="textcolor1245"> </span><span id="textcolor1246"><span class="cmtt-10">TokFun</span></span><span id="textcolor1247"> </span><span class="cmtt-10">sqrt</span><span id="textcolor1248"> </span><span id="textcolor1249"><span class="cmtt-10">"sqrt"</span></span> 
<a id="x1-13053r17"></a> 
<a id="x1-13055r18"></a><span id="textcolor1250"><span class="cmtt-10">tRound</span></span><span id="textcolor1251"> </span><span id="textcolor1252"><span class="cmtt-10">::</span></span><span id="textcolor1253"> </span><span class="cmtt-10">(</span><span id="textcolor1254"><span class="cmtt-10">Floating</span></span><span id="textcolor1255"> </span><span class="cmtt-10">a,</span><span id="textcolor1256"> </span><span id="textcolor1257"><span class="cmtt-10">RealFrac</span></span><span id="textcolor1258"> </span><span class="cmtt-10">a)</span><span id="textcolor1259"> </span><span id="textcolor1260"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1261"> </span><span id="textcolor1262"><span class="cmtt-10">Tok</span></span><span id="textcolor1263"> </span><span class="cmtt-10">a</span> 
<a id="x1-13057r19"></a><span id="textcolor1264"><span class="cmtt-10">tRound</span></span><span id="textcolor1265"> </span><span id="textcolor1266"><span class="cmtt-10">=</span></span><span id="textcolor1267"> </span><span id="textcolor1268"><span class="cmtt-10">TokFun</span></span><span id="textcolor1269"> </span><span class="cmtt-10">(</span><span id="textcolor1270"><span class="cmtt-10">\</span></span><span class="cmtt-10">x</span><span id="textcolor1271"> </span><span id="textcolor1272"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1273"> </span><span class="cmtt-10">fromIntegral</span><span id="textcolor1274"> </span><span class="cmtt-10">(round</span><span id="textcolor1275"> </span><span class="cmtt-10">x</span><span id="textcolor1276"> </span><span id="textcolor1277"><span class="cmtt-10">::</span></span><span id="textcolor1278"> </span><span id="textcolor1279"><span class="cmtt-10">Integer</span></span><span class="cmtt-10">))</span><span id="textcolor1280"> </span><span id="textcolor1281"><span class="cmtt-10">"round"</span></span></pre>
                                                                                    
                                                                                    
<!-- l. 359 --><p class="noindent">
</p>
   <h5 class="likesubsubsectionHead" id="pont-fuggvenyek-parseolasa-es-kiertekelese"><a id="x1-14000"></a>(2 + 1 pont) Függvények parse-olása és kiértékelése</h5>
<!-- l. 360 --><p class="noindent">Se a parse-olás, se a kiértékelés nem változik nagyon a függvények jelenléte miatt: parse-olás esetén
mielőtt literált vizsgálnánk, nézzük meg, hogy a kifejezés szerepel-e a függvénytáblában. Ha igen,
visszaadjuk, ha nem, megpróbáljuk literálként parse-olni. Az algoritmus során a függvényeket
berakjuk az operátorlista elejére, majd kiértékelésnél a függvénynek levesszük a literál lista
első elemét és átadjuk annak paraméterül, majd az eredményét visszarakjuk a literál listába.
A függvényeknek végtelenül nagy kötési erőssége van (ez reprezentálható a <span class="cmtt-10">maxBound :: Int</span>
kifejezéssel).
</p><!-- l. 362 --><p class="indent">   Definiáljuk a <span class="cmtt-10">parseWithFunctions </span>és <span class="cmtt-10">shuntingYardWithFunctions </span>függvényeket, amelyek a fent
említett módon elvégzik a Shunting Yard algoritmust. <span class="cmbx-10">1 extra pontért</span>, ha az előző nem kötelező feladat is
kész, akkor definiáljuk a <span class="cmtt-10">parseComplete </span>és <span class="cmtt-10">shuntingYardComplete </span>függvényeket amelyek emellett még
bemenetet is validálnak!
</p>
   <pre class="fancyvrb" id="fancyvrb20"><a id="x1-14010r1"></a><span id="textcolor1282"><span class="cmtt-10">parseWithFunctions</span></span><span id="textcolor1283"> </span><span id="textcolor1284"><span class="cmtt-10">::</span></span><span id="textcolor1285"> </span><span id="textcolor1286"><span class="cmtt-10">Read</span></span><span id="textcolor1287"> </span><span class="cmtt-10">a</span><span id="textcolor1288"> </span><span id="textcolor1289"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1290"> </span><span id="textcolor1291"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor1292"> </span><span class="cmtt-10">a</span><span id="textcolor1293"> </span><span id="textcolor1294"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1295"> </span><span id="textcolor1296"><span class="cmtt-10">FunctionTable</span></span><span id="textcolor1297"> </span><span class="cmtt-10">a</span><span id="textcolor1298"> </span><span id="textcolor1299"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1300"> </span><span id="textcolor1301"><span class="cmtt-10">String</span></span><span id="textcolor1302"> </span><span id="textcolor1303"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1304"> </span><span id="textcolor1305"><span class="cmtt-10">Maybe</span></span><span id="textcolor1306"> </span><span class="cmtt-10">[</span><span id="textcolor1307"><span class="cmtt-10">Tok</span></span><span id="textcolor1308"> </span><span class="cmtt-10">a]</span> 
<a id="x1-14012r2"></a><span id="textcolor1309"><span class="cmtt-10">parseComplete</span></span><span id="textcolor1310"> </span><span id="textcolor1311"><span class="cmtt-10">::</span></span><span id="textcolor1312"> </span><span id="textcolor1313"><span class="cmtt-10">Read</span></span><span id="textcolor1314"> </span><span class="cmtt-10">a</span><span id="textcolor1315"> </span><span id="textcolor1316"><span class="cmtt-10">=</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-14014r3"></a><span id="textcolor1317">   </span><span id="textcolor1318"><span class="cmtt-10">OperatorTable</span></span><span id="textcolor1319"> </span><span class="cmtt-10">a</span><span id="textcolor1320"> </span><span id="textcolor1321"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-14016r4"></a><span id="textcolor1322">   </span><span id="textcolor1323"><span class="cmtt-10">FunctionTable</span></span><span id="textcolor1324"> </span><span class="cmtt-10">a</span><span id="textcolor1325"> </span><span id="textcolor1326"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-14018r5"></a><span id="textcolor1327">   </span><span id="textcolor1328"><span class="cmtt-10">String</span></span><span id="textcolor1329"> </span><span id="textcolor1330"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span> 
<a id="x1-14020r6"></a><span id="textcolor1331">   </span><span id="textcolor1332"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1333"> </span><span class="cmtt-10">[</span><span id="textcolor1334"><span class="cmtt-10">Tok</span></span><span id="textcolor1335"> </span><span class="cmtt-10">a]</span> 
<a id="x1-14022r7"></a><span id="textcolor1336"><span class="cmtt-10">shuntingYardWithFunctions</span></span><span id="textcolor1337"> </span><span id="textcolor1338"><span class="cmtt-10">::</span></span><span id="textcolor1339"> </span><span class="cmtt-10">[</span><span id="textcolor1340"><span class="cmtt-10">Tok</span></span><span id="textcolor1341"> </span><span class="cmtt-10">a]</span><span id="textcolor1342"> </span><span id="textcolor1343"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1344"> </span><span class="cmtt-10">([a],</span><span id="textcolor1345"> </span><span class="cmtt-10">[</span><span id="textcolor1346"><span class="cmtt-10">Tok</span></span><span id="textcolor1347"> </span><span class="cmtt-10">a])</span> 
<a id="x1-14024r8"></a><span id="textcolor1348"><span class="cmtt-10">shuntingYardComplete</span></span><span id="textcolor1349"> </span><span id="textcolor1350"><span class="cmtt-10">::</span></span><span id="textcolor1351"> </span><span class="cmtt-10">[</span><span id="textcolor1352"><span class="cmtt-10">Tok</span></span><span id="textcolor1353"> </span><span class="cmtt-10">a]</span><span id="textcolor1354"> </span><span id="textcolor1355"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1356"> </span><span id="textcolor1357"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1358"> </span><span class="cmtt-10">([a],</span><span id="textcolor1359"> </span><span class="cmtt-10">[</span><span id="textcolor1360"><span class="cmtt-10">Tok</span></span><span id="textcolor1361"> </span><span class="cmtt-10">a])</span></pre>
<!-- l. 373 --><p class="noindent">Másoljuk az alábbi kódrészletet a megoldásunkba (ha nem a skeleton fájlból indultunk ki).
</p>
   <pre class="fancyvrb" id="fancyvrb21"><a id="x1-14035r1"></a><span id="textcolor1362"><span class="cmtt-10">syFun</span></span><span id="textcolor1363"> </span><span id="textcolor1364"><span class="cmtt-10">::</span></span><span id="textcolor1365"> </span><span id="textcolor1366"><span class="cmtt-10">String</span></span><span id="textcolor1367"> </span><span id="textcolor1368"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1369"> </span><span id="textcolor1370"><span class="cmtt-10">Maybe</span></span><span id="textcolor1371"> </span><span class="cmtt-10">([</span><span id="textcolor1372"><span class="cmtt-10">Double</span></span><span class="cmtt-10">],</span><span id="textcolor1373"> </span><span class="cmtt-10">[</span><span id="textcolor1374"><span class="cmtt-10">Tok</span></span><span id="textcolor1375"> </span><span id="textcolor1376"><span class="cmtt-10">Double</span></span><span class="cmtt-10">])</span> 
<a id="x1-14037r2"></a><span id="textcolor1377"><span class="cmtt-10">syFun</span></span><span id="textcolor1378"> </span><span id="textcolor1379"><span class="cmtt-10">=</span></span><span id="textcolor1380"> </span><span class="cmtt-10">parseAndEval</span> 
<a id="x1-14039r3"></a><span id="textcolor1381">  </span><span class="cmtt-10">(parseWithFunctions</span><span id="textcolor1382"> </span><span class="cmtt-10">operatorTable</span><span id="textcolor1383"> </span><span class="cmtt-10">functionTable)</span> 
<a id="x1-14041r4"></a><span id="textcolor1384">  </span><span class="cmtt-10">(</span><span id="textcolor1385"><span class="cmtt-10">\</span></span><span class="cmtt-10">t</span><span id="textcolor1386"> </span><span id="textcolor1387"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1388"> </span><span class="cmtt-10">shuntingYardWithFunctions</span><span id="textcolor1389"> </span><span id="textcolor1390"><span class="cmtt-10">$</span></span><span id="textcolor1391"> </span><span id="textcolor1392"><span class="cmtt-10">BrckOpen</span></span><span id="textcolor1393"> </span><span id="textcolor1394"><span class="cmtt-10">:</span></span><span id="textcolor1395"> </span><span class="cmtt-10">(t</span><span id="textcolor1396"> </span><span id="textcolor1397"><span class="cmtt-10">++</span></span><span id="textcolor1398"> </span><span class="cmtt-10">[</span><span id="textcolor1399"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]))</span> 
<a id="x1-14043r5"></a> 
<a id="x1-14045r6"></a><span id="textcolor1400"><span class="cmtt-10">syComplete</span></span><span id="textcolor1401"> </span><span id="textcolor1402"><span class="cmtt-10">::</span></span><span id="textcolor1403"> </span><span id="textcolor1404"><span class="cmtt-10">String</span></span><span id="textcolor1405"> </span><span id="textcolor1406"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1407"> </span><span id="textcolor1408"><span class="cmtt-10">ShuntingYardResult</span></span><span id="textcolor1409"> </span><span class="cmtt-10">([</span><span id="textcolor1410"><span class="cmtt-10">Double</span></span><span class="cmtt-10">],</span><span id="textcolor1411"> </span><span class="cmtt-10">[</span><span id="textcolor1412"><span class="cmtt-10">Tok</span></span><span id="textcolor1413"> </span><span id="textcolor1414"><span class="cmtt-10">Double</span></span><span class="cmtt-10">])</span> 
<a id="x1-14047r7"></a><span id="textcolor1415"><span class="cmtt-10">syComplete</span></span><span id="textcolor1416"> </span><span id="textcolor1417"><span class="cmtt-10">=</span></span><span id="textcolor1418"> </span><span class="cmtt-10">parseAndEvalSafe</span> 
<a id="x1-14049r8"></a><span id="textcolor1419">  </span><span class="cmtt-10">(parseComplete</span><span id="textcolor1420"> </span><span class="cmtt-10">operatorTable</span><span id="textcolor1421"> </span><span class="cmtt-10">functionTable)</span> 
<a id="x1-14051r9"></a><span id="textcolor1422">  </span><span class="cmtt-10">(</span><span id="textcolor1423"><span class="cmtt-10">\</span></span><span class="cmtt-10">ts</span><span id="textcolor1424"> </span><span id="textcolor1425"><span class="cmtt-10">-</span><span class="cmmi-10">&gt;</span></span><span id="textcolor1426"> </span><span class="cmtt-10">shuntingYardComplete</span><span id="textcolor1427"> </span><span class="cmtt-10">(</span><span id="textcolor1428"><span class="cmtt-10">BrckOpen</span></span><span id="textcolor1429"> </span><span id="textcolor1430"><span class="cmtt-10">:</span></span><span id="textcolor1431"> </span><span class="cmtt-10">ts</span><span id="textcolor1432"> </span><span id="textcolor1433"><span class="cmtt-10">++</span></span><span id="textcolor1434"> </span><span class="cmtt-10">[</span><span id="textcolor1435"><span class="cmtt-10">BrckClose</span></span><span class="cmtt-10">]))</span></pre>
<!-- l. 385 --><p class="noindent">Tesztek a működésre:
</p>
   <pre class="fancyvrb" id="fancyvrb22"><a id="x1-14063r1"></a><span id="textcolor1436"><span class="cmtt-10">syComplete</span></span><span id="textcolor1437"> </span><span id="textcolor1438"><span class="cmtt-10">"round ( sin ( 22 / 7 ) )"</span></span><span id="textcolor1439"> </span><span id="textcolor1440"><span class="cmtt-10">==</span></span><span id="textcolor1441"> </span><span id="textcolor1442"><span class="cmtt-10">Right</span></span><span id="textcolor1443"> </span><span class="cmtt-10">([</span><span id="textcolor1444"><span class="cmtt-10">0.0</span></span><span class="cmtt-10">],</span><span id="textcolor1445"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14065r2"></a><span id="textcolor1446"><span class="cmtt-10">syFun</span></span><span id="textcolor1447"> </span><span id="textcolor1448"><span class="cmtt-10">"round ( sin ( 22 / 7 ) )"</span></span><span id="textcolor1449"> </span><span id="textcolor1450"><span class="cmtt-10">==</span></span><span id="textcolor1451"> </span><span id="textcolor1452"><span class="cmtt-10">Just</span></span><span id="textcolor1453"> </span><span class="cmtt-10">([</span><span id="textcolor1454"><span class="cmtt-10">0.0</span></span><span class="cmtt-10">],</span><span id="textcolor1455"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14067r3"></a><span id="textcolor1456"><span class="cmtt-10">syComplete</span></span><span id="textcolor1457"> </span><span id="textcolor1458"><span class="cmtt-10">"sin 0"</span></span><span id="textcolor1459"> </span><span id="textcolor1460"><span class="cmtt-10">==</span></span><span id="textcolor1461"> </span><span id="textcolor1462"><span class="cmtt-10">Right</span></span><span id="textcolor1463"> </span><span class="cmtt-10">([</span><span id="textcolor1464"><span class="cmtt-10">0.0</span></span><span class="cmtt-10">],</span><span id="textcolor1465"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14069r4"></a><span id="textcolor1466"><span class="cmtt-10">syFun</span></span><span id="textcolor1467"> </span><span id="textcolor1468"><span class="cmtt-10">"sin 0"</span></span><span id="textcolor1469"> </span><span id="textcolor1470"><span class="cmtt-10">==</span></span><span id="textcolor1471"> </span><span id="textcolor1472"><span class="cmtt-10">Just</span></span><span id="textcolor1473"> </span><span class="cmtt-10">([</span><span id="textcolor1474"><span class="cmtt-10">0.0</span></span><span class="cmtt-10">],</span><span id="textcolor1475"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14071r5"></a><span id="textcolor1476"><span class="cmtt-10">syComplete</span></span><span id="textcolor1477"> </span><span id="textcolor1478"><span class="cmtt-10">"cos 0"</span></span><span id="textcolor1479"> </span><span id="textcolor1480"><span class="cmtt-10">==</span></span><span id="textcolor1481"> </span><span id="textcolor1482"><span class="cmtt-10">Right</span></span><span id="textcolor1483"> </span><span class="cmtt-10">([</span><span id="textcolor1484"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],</span><span id="textcolor1485"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14073r6"></a><span id="textcolor1486"><span class="cmtt-10">syFun</span></span><span id="textcolor1487"> </span><span id="textcolor1488"><span class="cmtt-10">"cos 0"</span></span><span id="textcolor1489"> </span><span id="textcolor1490"><span class="cmtt-10">==</span></span><span id="textcolor1491"> </span><span id="textcolor1492"><span class="cmtt-10">Just</span></span><span id="textcolor1493"> </span><span class="cmtt-10">([</span><span id="textcolor1494"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],</span><span id="textcolor1495"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14075r7"></a><span id="textcolor1496"><span class="cmtt-10">syComplete</span></span><span id="textcolor1497"> </span><span id="textcolor1498"><span class="cmtt-10">"round ( cos 3.141215 )"</span></span><span id="textcolor1499"> </span><span id="textcolor1500"><span class="cmtt-10">==</span></span><span id="textcolor1501"> </span><span id="textcolor1502"><span class="cmtt-10">Right</span></span><span id="textcolor1503"> </span><span class="cmtt-10">([</span><span id="textcolor1504"><span class="cmtt-10">-</span></span><span id="textcolor1505"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],</span><span id="textcolor1506"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14077r8"></a><span id="textcolor1507"><span class="cmtt-10">syFun</span></span><span id="textcolor1508"> </span><span id="textcolor1509"><span class="cmtt-10">"round ( cos 3.141215 )"</span></span><span id="textcolor1510">  </span><span id="textcolor1511"><span class="cmtt-10">==</span></span><span id="textcolor1512"> </span><span id="textcolor1513"><span class="cmtt-10">Just</span></span><span id="textcolor1514"> </span><span class="cmtt-10">([</span><span id="textcolor1515"><span class="cmtt-10">-</span></span><span id="textcolor1516"><span class="cmtt-10">1.0</span></span><span class="cmtt-10">],</span><span id="textcolor1517"><span class="cmtt-10">[]</span></span><span class="cmtt-10">)</span> 
<a id="x1-14079r9"></a><span id="textcolor1518"><span class="cmtt-10">syComplete</span></span><span id="textcolor1519"> </span><span id="textcolor1520"><span class="cmtt-10">"sin cos"</span></span><span id="textcolor1521"> </span><span id="textcolor1522"><span class="cmtt-10">==</span></span><span id="textcolor1523"> </span><span id="textcolor1524"><span class="cmtt-10">Left</span></span><span id="textcolor1525"> </span><span id="textcolor1526"><span class="cmtt-10">LiteralOrOpeningParenExpected</span></span> 
<a id="x1-14081r10"></a><span id="textcolor1527"><span class="cmtt-10">syComplete</span></span><span id="textcolor1528"> </span><span id="textcolor1529"><span class="cmtt-10">"si"</span></span><span id="textcolor1530"> </span><span id="textcolor1531"><span class="cmtt-10">==</span></span><span id="textcolor1532"> </span><span id="textcolor1533"><span class="cmtt-10">Left</span></span><span id="textcolor1534"> </span><span id="textcolor1535"><span class="cmtt-10">ParseError</span></span></pre>
    
 
</body></html>